{"version":3,"sources":["../../../src/models/organization/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;IAEM,iB;;;AAEJ,+BAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA;AAAA,sHAClB,sBAAc,EAAd,EAAkB;AACtB,YAAM,eADgB;;AAGtB,mBAAa;AACX,gBAAS,CAAC,OAAD,CADE;AAEX,gBAAS,CAAC,OAAD,CAFE;AAGX,cAAS,CAAC,cAAD,CAHE;AAIX,iBAAS,CAAC,OAAD,CAJE;AAKX,gBAAS,CAAC,OAAD;AALE,OAHS;AAUtB,iBAAW;AACT,iBAAS,CACP;AACE,gBAAM,KADR;AAEE,sBAAY,IAFd;AAGE,sBAAY,MAHd;AAIE,oBAAU;AAJZ,SADO,EAOP;AACE,gBAAM,QADR;AAEE,sBAAY,IAFd;AAGE,sBAAY,QAHd;AAIE,oBAAU;AAJZ,SAPO,EAaP;AACE,gBAAM,MADR;AAEE,sBAAY,IAFd;AAGE,sBAAY,OAHd;AAIE,oBAAU;AAJZ,SAbO;AADA,OAVW;AAgCtB,cAAQ;AACN,cAAM;AACJ,gBAAM;AADF,SADA;AAIN,eAAO;AACL,gBAAM;AADD;AAJD;AAhCc,KAAlB,EAwCH,OAxCG,CADkB;AA0CzB;;;;;kBAIY,iB","file":"index.js","sourcesContent":["import {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\nclass OrganizationModel extends Model {\n\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'organizations',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        hasMany: [\n          {\n            Node: 'App',\n            foreignKey: 'id',\n            localField: 'apps',\n            localKey: 'appIds'\n          },\n          {\n            Node: 'Bucket',\n            foreignKey: 'id',\n            localField: 'buckts',\n            localKey: 'bucketIds'\n          },\n          {\n            Node: 'User',\n            foreignKey: 'id',\n            localField: 'users',\n            localKey: 'userIds'\n          }\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default OrganizationModel\n"]}