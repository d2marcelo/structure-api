{"version":3,"sources":["../../../src/models/bucket/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;IAEM,W;;;AAEJ,yBAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA;AAAA,gHAClB,sBAAc,EAAd,EAAkB;AACtB,YAAM,SADgB;;AAGtB,mBAAa;AACX,gBAAS,CAAC,OAAD,CADE;AAEX,gBAAS,CAAC,OAAD,CAFE;AAGX,cAAS,CAAC,cAAD,CAHE;AAIX,iBAAS,CAAC,OAAD,CAJE;AAKX,gBAAS,CAAC,OAAD;AALE,OAHS;AAUtB,iBAAW;AACT,mBAAW,CACT;AACE,gBAAM,SADR;AAEE,sBAAY,IAFd;AAGE,sBAAY,SAHd;AAIE,oBAAU;AAJZ,SADS,EAOT;AACE,gBAAM,cADR;AAEE,sBAAY,IAFd;AAGE,sBAAY,cAHd;AAIE,oBAAU;AAJZ,SAPS;AADF,OAVW;AA0BtB,cAAQ;AACN,cAAM;AACJ,gBAAM;AADF,SADA;AAIN,cAAM;AACJ,gBAAM;AADF,SAJA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCN,eAAO;AACL,gBAAM;AADD,SApCD;AAuCN,eAAO;AACL,gBAAM;AADD;AAvCD;AA1Bc,KAAlB,EAqEH,OArEG,CADkB;AAuEzB;;;;;kBAIY,W","file":"index.js","sourcesContent":["import {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\n\nclass BucketModel extends Model {\n\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'buckets',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Channel',\n            foreignKey: 'id',\n            localField: 'channel',\n            localKey: 'channelId'\n          },\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ]\n      },\n      schema: {\n        data: {\n          type: 'object'\n        },\n        desc: {\n          type: 'string'\n        },\n        /*\n        Example of a query with some documents\n\n        query: [\n          {\n            id: 5\n          },\n          // Get one article by author with id 543; this would get their latest article\n          {\n            filter: {\n              authorId: 543\n            },\n            limit: 1\n          },\n          // Get up to 5 articles that are in the category \"trending\"\n          {\n            filter: {\n              category: 'trending'\n            },\n            limit: 5\n          },\n          // Get up to 10 documents that have \"Kardashian\" as the title\n          {\n            match: /$kardashian$/,\n            key: 'title',\n            limit: 10\n          }\n        ]\n        */\n        query: {\n          type: 'array'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default BucketModel\n"]}