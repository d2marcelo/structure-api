{"version":3,"sources":["../../src/mixins/stream-extras.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;IAEM,Y;;;;;;;mCAEW,M,EAAQ;;AAErB,UAAI,SAAS,EAAb;AAAA,UACI,QAAS,IADb;;AAGA,WAAK,GAAL,CAAS,UAAC,GAAD,EAAM,IAAN,EAAe;;AAEtB,eACG,IADH,CACQ,uBAAS,EAAC,YAAY,IAAb,EAAmB,eAAe,KAAlC,EAAT,EAAmD,SAAS,mBAAT,CAA6B,KAA7B,EAAoC,GAApC,EAAyC,IAAzC,EAA+C;;AAEtG,oBAAU,MAAM,QAAN,EAAV;;AAEA,eAAK,IAAL,EAAW,MAAX;AACD,SALK,CADR,EAOG,EAPH,CAOM,MAPN,EAOc,SAAS,cAAT,CAAwB,IAAxB,EAA8B;;AAEzC,SATH,EAUG,EAVH,CAUM,KAVN,EAUa,SAAS,aAAT,GAAyB;AAClC,gBAAM,MAAN;AACA,eAAK,IAAL,EAAW,GAAX;AACD,SAbH,EAcG,EAdH,CAcM,OAdN,EAce,SAAS,eAAT,CAAyB,GAAzB,EAA8B;AACzC,eAAK,GAAL;AACD,SAhBH;AAkBD,OApBD;;AAsBA,aAAO,IAAP;AAED;;;;;AAIH,aAAa,SAAb,CAAuB,WAAvB,GAAqC,CAAC,gBAAD,CAArC;;kBAEe,Y","file":"stream-extras.js","sourcesContent":["import through2 from 'through2'\n\nclass StreamExtras {\n\n  streamToString(stream) {\n\n    var chunks = '',\n        _this  = this\n\n    this.use((pkg, next) => {\n\n      stream\n        .pipe(through2({objectMode: true, allowHalfOpen: false}, function streamChunkCallback(chunk, enc, t2cb) {\n\n          chunks += chunk.toString()\n\n          t2cb(null, chunks)\n        }))\n        .on('data', function onDataCallback(data) {\n          //console.log('do we have something?', data)\n        })\n        .on('end', function onEndCallback() {\n          pkg = chunks\n          next(null, pkg)\n        })\n        .on('error', function onErrorCallback(err) {\n          next(err)\n        })\n\n    })\n\n    return this\n\n  }\n\n}\n\nStreamExtras.prototype.flowMethods = ['streamToString']\n\nexport default StreamExtras\n"]}