[
  {
    "__docId__": 0,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/applications/index.js",
    "memberof": null,
    "longname": "src/controllers/applications/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass ApplicationController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default ApplicationController\n"
  },
  {
    "__docId__": 1,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ApplicationController",
    "memberof": "src/controllers/applications/index.js",
    "longname": "src/controllers/applications/index.js~ApplicationController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/applications/index.js",
    "importStyle": "ApplicationController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 2,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/applications/index.js~ApplicationController",
    "longname": "src/controllers/applications/index.js~ApplicationController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 3,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/auth/index.js",
    "memberof": null,
    "longname": "src/controllers/auth/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass AuthController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default AuthController\n"
  },
  {
    "__docId__": 4,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AuthController",
    "memberof": "src/controllers/auth/index.js",
    "longname": "src/controllers/auth/index.js~AuthController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/auth/index.js",
    "importStyle": "AuthController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 5,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/auth/index.js~AuthController",
    "longname": "src/controllers/auth/index.js~AuthController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 6,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/buckets/index.js",
    "memberof": null,
    "longname": "src/controllers/buckets/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass BucketsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default BucketsController\n"
  },
  {
    "__docId__": 7,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "BucketsController",
    "memberof": "src/controllers/buckets/index.js",
    "longname": "src/controllers/buckets/index.js~BucketsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/buckets/index.js",
    "importStyle": "BucketsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 8,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/buckets/index.js~BucketsController",
    "longname": "src/controllers/buckets/index.js~BucketsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 9,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/digital-assets/index.js",
    "memberof": null,
    "longname": "src/controllers/digital-assets/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass DigitalAssetsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n  view() {\n\n  }\n\n}\n\nexport default DigitalAssetsController\n"
  },
  {
    "__docId__": 10,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DigitalAssetsController",
    "memberof": "src/controllers/digital-assets/index.js",
    "longname": "src/controllers/digital-assets/index.js~DigitalAssetsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/digital-assets/index.js",
    "importStyle": "DigitalAssetsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 11,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/digital-assets/index.js~DigitalAssetsController",
    "longname": "src/controllers/digital-assets/index.js~DigitalAssetsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 12,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "view",
    "memberof": "src/controllers/digital-assets/index.js~DigitalAssetsController",
    "longname": "src/controllers/digital-assets/index.js~DigitalAssetsController#view",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 13,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/document-revisions/index.js",
    "memberof": null,
    "longname": "src/controllers/document-revisions/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass DocumentRevisionsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default DocumentRevisionsController\n"
  },
  {
    "__docId__": 14,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DocumentRevisionsController",
    "memberof": "src/controllers/document-revisions/index.js",
    "longname": "src/controllers/document-revisions/index.js~DocumentRevisionsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/document-revisions/index.js",
    "importStyle": "DocumentRevisionsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 15,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/document-revisions/index.js~DocumentRevisionsController",
    "longname": "src/controllers/document-revisions/index.js~DocumentRevisionsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 16,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/documents/index.js",
    "memberof": null,
    "longname": "src/controllers/documents/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass DocumentsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default DocumentsController\n"
  },
  {
    "__docId__": 17,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DocumentsController",
    "memberof": "src/controllers/documents/index.js",
    "longname": "src/controllers/documents/index.js~DocumentsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/documents/index.js",
    "importStyle": "DocumentsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 18,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/documents/index.js~DocumentsController",
    "longname": "src/controllers/documents/index.js~DocumentsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 19,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/fields/index.js",
    "memberof": null,
    "longname": "src/controllers/fields/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass FieldsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default FieldsController\n"
  },
  {
    "__docId__": 20,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FieldsController",
    "memberof": "src/controllers/fields/index.js",
    "longname": "src/controllers/fields/index.js~FieldsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/fields/index.js",
    "importStyle": "FieldsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 21,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/fields/index.js~FieldsController",
    "longname": "src/controllers/fields/index.js~FieldsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 22,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/organizations/index.js",
    "memberof": null,
    "longname": "src/controllers/organizations/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass OrganizationController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default OrganizationController\n"
  },
  {
    "__docId__": 23,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "OrganizationController",
    "memberof": "src/controllers/organizations/index.js",
    "longname": "src/controllers/organizations/index.js~OrganizationController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/organizations/index.js",
    "importStyle": "OrganizationController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 24,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/organizations/index.js~OrganizationController",
    "longname": "src/controllers/organizations/index.js~OrganizationController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 25,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/registry/index.js",
    "memberof": null,
    "longname": "src/controllers/registry/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass RegistryController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default RegistryController\n"
  },
  {
    "__docId__": 26,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RegistryController",
    "memberof": "src/controllers/registry/index.js",
    "longname": "src/controllers/registry/index.js~RegistryController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/registry/index.js",
    "importStyle": "RegistryController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 27,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/registry/index.js~RegistryController",
    "longname": "src/controllers/registry/index.js~RegistryController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 28,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/root.js",
    "memberof": null,
    "longname": "src/controllers/root.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "class RootController {\n\n  constructor(options = {}) {\n    this.options = options\n  }\n\n}\n\nexport default RootController\n"
  },
  {
    "__docId__": 29,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RootController",
    "memberof": "src/controllers/root.js",
    "longname": "src/controllers/root.js~RootController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/root.js",
    "importStyle": "RootController",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 30,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/root.js~RootController",
    "longname": "src/controllers/root.js~RootController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 31,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "options",
    "memberof": "src/controllers/root.js~RootController",
    "longname": "src/controllers/root.js~RootController#options",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 32,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/taxonomies/index.js",
    "memberof": null,
    "longname": "src/controllers/taxonomies/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass TaxonomiesController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default TaxonomiesController\n"
  },
  {
    "__docId__": 33,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TaxonomiesController",
    "memberof": "src/controllers/taxonomies/index.js",
    "longname": "src/controllers/taxonomies/index.js~TaxonomiesController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/taxonomies/index.js",
    "importStyle": "TaxonomiesController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 34,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/taxonomies/index.js~TaxonomiesController",
    "longname": "src/controllers/taxonomies/index.js~TaxonomiesController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 35,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/template-revisions/index.js",
    "memberof": null,
    "longname": "src/controllers/template-revisions/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass TemplateRevisionsController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default TemplateRevisionsController\n"
  },
  {
    "__docId__": 36,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TemplateRevisionsController",
    "memberof": "src/controllers/template-revisions/index.js",
    "longname": "src/controllers/template-revisions/index.js~TemplateRevisionsController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/template-revisions/index.js",
    "importStyle": "TemplateRevisionsController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 37,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/template-revisions/index.js~TemplateRevisionsController",
    "longname": "src/controllers/template-revisions/index.js~TemplateRevisionsController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 38,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/templates/index.js",
    "memberof": null,
    "longname": "src/controllers/templates/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass TemplatesController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default TemplatesController\n"
  },
  {
    "__docId__": 39,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TemplatesController",
    "memberof": "src/controllers/templates/index.js",
    "longname": "src/controllers/templates/index.js~TemplatesController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/templates/index.js",
    "importStyle": "TemplatesController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 40,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/templates/index.js~TemplatesController",
    "longname": "src/controllers/templates/index.js~TemplatesController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 41,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/users/index.js",
    "memberof": null,
    "longname": "src/controllers/users/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import RootController from '../root'\n\nclass UserController extends RootController {\n\n  constructor(options = {}) {\n    super(options)\n  }\n\n}\n\nexport default UserController\n"
  },
  {
    "__docId__": 42,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "UserController",
    "memberof": "src/controllers/users/index.js",
    "longname": "src/controllers/users/index.js~UserController",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/controllers/users/index.js",
    "importStyle": "UserController",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/controllers/root.js~RootController"
    ]
  },
  {
    "__docId__": 43,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/users/index.js~UserController",
    "longname": "src/controllers/users/index.js~UserController#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 44,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/index.js",
    "memberof": null,
    "longname": "src/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import StructureApplicationController  from './controllers/applications'\nimport StructureApplicationModel       from './models/application'\n\nimport StructureDispatcher             from './server/dispatcher'\nimport StructureLogger                 from './lib/logger'\n\nimport StructureOrganizationController from './controllers/organizations'\nimport StructureOrganizationModel      from './models/organization'\n\nimport StructurePasswordService        from './services/password'\n\nimport StructureRegistry               from './lib/registry'\n\nimport StructureRootController         from './controllers/root'\nimport StructureRootModel              from './models/root'\n\nimport StructureRouter                 from './server/router'\nimport StructureServer                 from './server'\nimport StructureShortIdService         from './services/short-id'\nimport StructureStorageAdaptors        from './server/storageAdaptors'\nimport StructureTokenService           from './services/token'\n\nimport StructureUserController         from './controllers/users'\nimport StructureUserModel              from './models/user'\n\nexport {\n  StructureApplicationController,\n  StructureApplicationModel,\n\n  StructureDispatcher,\n  StructureLogger,\n\n  StructureOrganizationController,\n  StructureOrganizationModel,\n\n  StructurePasswordService,\n  StructureRegistry,\n\n  StructureRootController,\n  StructureRootModel,\n\n  StructureRouter,\n  StructureServer,\n  StructureShortIdService,\n  StructureStorageAdaptors,\n  StructureTokenService,\n\n  StructureUserController,\n  StructureUserModel\n}\n"
  },
  {
    "__docId__": 45,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/database/config.js",
    "memberof": null,
    "longname": "src/lib/database/config.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "var config = {\n  authKey: process.env.RETHINK_DB_AUTH_KEY || '',\n  buffer:  process.env.NODE_ENV === 'production' ? 50 : 3,\n  db:      process.env.RETHINK_DB_NAME,\n  host:    process.env.RETHINK_DB_HOST || 'localhost',\n  min:     process.env.NODE_ENV === 'production' ? 50 : 3,\n  pool:    true,\n  port:    process.env.RETHINK_DB_PORT || 28015,\n  servers: [\n    {host: '127.0.0.1', port: 28015}\n  ],\n  tables:  [\n    'auth',\n    'applications',\n    'buckets',\n    'channels',\n    'digital_assets',\n    'documents',\n    'document_revisions',\n    'fields',\n    'organizations',\n    'refs', // References\n    'registry',\n    //'revisions',\n    'taxonomies',\n    'templates',\n    'template_revisions',\n    'test',\n    'users'\n  ]\n}\n\nif(process.env.RETHINK_SSL) {\n\n  Object.assign(config, {\n    ssl: {\n      ca: ''\n    }\n  })\n\n}\n\nexport default config\n"
  },
  {
    "__docId__": 46,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "config",
    "memberof": "src/lib/database/config.js",
    "longname": "src/lib/database/config.js~config",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/database/config.js",
    "importStyle": "config",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 47,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/database/driver.js",
    "memberof": null,
    "longname": "src/lib/database/driver.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "var config = require('./config').default\n\nif(process.env.TEST_TYPE == 'unit') {\n  config = {\n    port: 28016\n  }\n}\n\nvar r = require('rethinkdbdash')(config)\n\nr.getPoolMaster().on('log', function() {\n  console.error.apply(console, arguments)\n})\n\nexport default r\n"
  },
  {
    "__docId__": 48,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "config",
    "memberof": "src/lib/database/driver.js",
    "longname": "src/lib/database/driver.js~config",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/lib/database/driver.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "r",
    "memberof": "src/lib/database/driver.js",
    "longname": "src/lib/database/driver.js~r",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/database/driver.js",
    "importStyle": "r",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 50,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/eventemitter.js",
    "memberof": null,
    "longname": "src/lib/eventemitter.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "class EventEmitter {\n\n  constructor() {\n\n  }\n\n  emit(e) {\n    this._events = this._events || {}\n\n\t\tif(e in this._events === false)\treturn\n\n\t\tfor(let i = 0, l = this._events[e].length; i < l; i++) {\n\t\t\tthis._events[e][i].apply(this, Array.prototype.slice.call(arguments, 1))\n\t\t}\n  }\n\n  off(e, f) {\n    this._events = this._events || {}\n\t\tif(e in this._events === false)\treturn\n\n    if(f) {\n      this._events[e].splice(this._events[e].indexOf(f), 1)\n    }\n    else {\n      delete this._events[e]\n    }\n\n  }\n\n  on(e, f) {\n    this._events    = this._events    || {}\n\t\tthis._events[e] = this._events[e]\t|| []\n\t\tthis._events[e].push(f)\n  }\n\n  once(e, f) {\n    var _this  = this\n\n    this.on(e, function onOnce() {\n      f.apply(this, arguments)\n      _this.off.call(_this, e, f)\n    })\n  }\n\n}\n\nexport default EventEmitter\n"
  },
  {
    "__docId__": 51,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "EventEmitter",
    "memberof": "src/lib/eventemitter.js",
    "longname": "src/lib/eventemitter.js~EventEmitter",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/eventemitter.js",
    "importStyle": "EventEmitter",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 52,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#constructor",
    "access": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 53,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "emit",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#emit",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 54,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_events",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#_events",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "off",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#off",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "f",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 56,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_events",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#_events",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 57,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "on",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#on",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "f",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 58,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_events",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#_events",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 59,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "once",
    "memberof": "src/lib/eventemitter.js~EventEmitter",
    "longname": "src/lib/eventemitter.js~EventEmitter#once",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "f",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 60,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/logger.js",
    "memberof": null,
    "longname": "src/lib/logger.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chalk   from 'chalk'\nimport winston from 'winston'\n\nvar logger = new winston.Logger({\n\n  transports:[\n    new winston.transports.Console({\n      colorize: true,\n      level: process.env.LOG_LEVEL\n    })\n  ]\n\n})\n\nexport {chalk}\nexport {logger}\n"
  },
  {
    "__docId__": 61,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "logger",
    "memberof": "src/lib/logger.js",
    "longname": "src/lib/logger.js~logger",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/logger.js",
    "importStyle": "{logger}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 62,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/mapper.js",
    "memberof": null,
    "longname": "src/lib/mapper.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import {chalk, logger} from './logger'\n\nclass Mapper {\n\n  constructor(Nodes) {\n    this.Nodes = Nodes\n  }\n\n  relations() {\n\n    this.Nodes.forEach( (Node) => {\n      var node = new Node()\n\n      Object.keys(this.relations).forEach( (relation) => {\n\n        Object.keys(relation).forEach( (key) => {\n          var options  = relation[key]\n\n          options.forEach( (option) => {\n            var Node = require(`../${option.Node}`).default\n\n            switch(key) {\n              case 'belongsTo':\n\n                try {\n                  this.Model.belongsTo(Node, option.localField, option.localKey, option.foreignKey || this.defaults.fields.foreignKey)\n                }\n                catch(e) {\n                  logger.error('Relationship failed: belongsTo', e)\n                }\n\n                break\n\n              case 'hasAndBelongsToMany':\n\n                try {\n                  this.Model.hasAndBelongsToMany(Node, option.localField, option.localKey, option.foreignKey || this.defaults.fields.foreignKey)\n                }\n                catch(e) {\n                  logger.error('Relationship failed: hasAndBelongsToMany', e)\n                }\n\n                break\n\n              case 'hasMany':\n\n                try {\n                  this.Model.hasMany(Node, option.localField, option.localKey, option.foreignKey || this.defaults.fields.foreignKey)\n                }\n                catch(e) {\n                  logger.error('Relationship failed: hasMany', e)\n                }\n\n                break\n\n              case 'hasOne':\n\n                try {\n                  this.Model.hasOne(Node, option.localField, option.localKey, option.foreignKey || this.defaults.fields.foreignKey)\n                }\n                catch(e) {\n                  logger.error('Relationship failed: hasOne', e)\n                }\n\n                break\n            }\n\n          })\n\n        })\n\n      })\n    })\n\n  }\n\n}\n\nexport default Mapper\n"
  },
  {
    "__docId__": 63,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Mapper",
    "memberof": "src/lib/mapper.js",
    "longname": "src/lib/mapper.js~Mapper",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/mapper.js",
    "importStyle": "Mapper",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 64,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/lib/mapper.js~Mapper",
    "longname": "src/lib/mapper.js~Mapper#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "Nodes",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 65,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "Nodes",
    "memberof": "src/lib/mapper.js~Mapper",
    "longname": "src/lib/mapper.js~Mapper#Nodes",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "relations",
    "memberof": "src/lib/mapper.js~Mapper",
    "longname": "src/lib/mapper.js~Mapper#relations",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 67,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/mixin.js",
    "memberof": null,
    "longname": "src/lib/mixin.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export default function mixin(dest, source) {\n\n  dest   = (dest.prototype) ? dest.prototype : dest\n  source = source.prototype\n\n  Object.getOwnPropertyNames(source).forEach(function propertyName(name) {\n\n    if(name !== 'constructor') {\n      Object.defineProperty(dest, name, Object.getOwnPropertyDescriptor(source, name))\n    }\n\n  })\n\n}\n"
  },
  {
    "__docId__": 68,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "mixin",
    "memberof": "src/lib/mixin.js",
    "longname": "src/lib/mixin.js~mixin",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/mixin.js",
    "importStyle": "mixin",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "params": [
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "source",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 69,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/registry.js",
    "memberof": null,
    "longname": "src/lib/registry.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Disk from 'structure-storage-disk-adaptor'\n\nexport default {\n  items: [\n    Object.assign({\n      status: 'active',\n      type: 'adaptor'\n    }, Disk.config)\n  ]\n}\n"
  },
  {
    "__docId__": 70,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/utils/object/each.js",
    "memberof": null,
    "longname": "src/lib/utils/object/each.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "function ObjectEach(obj, fun) {\n\n  Object.keys(obj).forEach( (k, i) => {\n    var o = obj[k]\n\n    if(o.hasOwnProperty(k)) {\n      if(typeof o == 'object' && !o.join) {\n\n        ObjectEach(o, fun)\n\n        // Array\n        /*if(o.join) {\n          o.forEach( (item) => {\n\n          })\n        }\n\n        // Object\n        else {\n\n        }*/\n\n      }\n\n      else {\n        fun(o, k, i)\n      }\n    }\n\n  })\n\n}\n\nexport default ObjectEach\n"
  },
  {
    "__docId__": 71,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "ObjectEach",
    "memberof": "src/lib/utils/object/each.js",
    "longname": "src/lib/utils/object/each.js~ObjectEach",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/utils/object/each.js",
    "importStyle": "ObjectEach",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "params": [
      {
        "name": "obj",
        "types": [
          "*"
        ]
      },
      {
        "name": "fun",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 72,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/utils/object/map.js",
    "memberof": null,
    "longname": "src/lib/utils/object/map.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "function ObjectMap(obj, fun) {\n\n  var newObj = {}\n\n  Object.keys(obj).forEach( (k, i) => {\n\n    var v = obj[k]\n\n    console.error('inside k,v', k, v)\n\n    if(typeof v == 'object' && !v.join) {\n\n      newObj[k] = ObjectMap(v, fun)\n\n      // Array\n      /*if(o.join) {\n        o.forEach( (item) => {\n\n        })\n      }\n\n      // Object\n      else {\n\n      }*/\n\n    }\n\n    else {\n      newObj[k] = fun(v, k, i)\n      console.error('v', vs)\n    }\n\n  })\n\n  return newObj\n\n}\n\nexport default ObjectMap\n"
  },
  {
    "__docId__": 73,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "ObjectMap",
    "memberof": "src/lib/utils/object/map.js",
    "longname": "src/lib/utils/object/map.js~ObjectMap",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/utils/object/map.js",
    "importStyle": "ObjectMap",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "params": [
      {
        "name": "obj",
        "types": [
          "*"
        ]
      },
      {
        "name": "fun",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 74,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/lib/utils/uuid.js",
    "memberof": null,
    "longname": "src/lib/utils/uuid.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import uuid from 'node-uuid'\n\nexport default function generateUUID() {\n  return uuid.v4()\n}\n"
  },
  {
    "__docId__": 75,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "generateUUID",
    "memberof": "src/lib/utils/uuid.js",
    "longname": "src/lib/utils/uuid.js~generateUUID",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/lib/utils/uuid.js",
    "importStyle": "generateUUID",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 76,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/mixins/log.js",
    "memberof": null,
    "longname": "src/mixins/log.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import winston from 'winston'\n\nclass Log {\n\n  log(str = '') {\n\n    this.use((next) => {\n\n      console.log(this.body)\n      //winston.log('debug', this.body)\n      next()\n\n    })\n\n    return this\n\n  }\n\n}\n\nexport default Log\n"
  },
  {
    "__docId__": 77,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Log",
    "memberof": "src/mixins/log.js",
    "longname": "src/mixins/log.js~Log",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/mixins/log.js",
    "importStyle": "Log",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 78,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "log",
    "memberof": "src/mixins/log.js~Log",
    "longname": "src/mixins/log.js~Log#log",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "optional": true,
        "types": [
          "string"
        ],
        "defaultRaw": "",
        "defaultValue": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 79,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/mixins/middleware.js",
    "memberof": null,
    "longname": "src/mixins/middleware.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "class Middleware {\n\n  next(err, pkg) {\n\n    if(err) {\n      return this.emit('error', err)\n    }\n\n    // Have all the middleware run?\n    if(this.middlewareLayers.length == this.currentMiddlewareLayer) {\n\n      if(this.emit) this.emit('end', pkg)\n\n      // Reset so middleware can make another run if need be\n      this.currentMiddlewareLayer = 0\n      this.middlewareLayers = []\n\n      return\n\n    }\n\n    // There are more middleware, go to next one\n    this.currentMiddlewareLayer++\n\n    var nextMiddleware = this.middlewareLayers[this.currentMiddlewareLayer - 1]\n\n    // The next middleware was found\n    if(nextMiddleware) {\n\n      nextMiddleware.call(this, pkg, this.next.bind(this))\n\n    }\n\n    // The next middleware was not found; this is a developer error\n    else {\n      return this.emit('error', err)\n    }\n\n  }\n\n  use(fn) {\n\n    // These need to be set here because we can't set them in the constructor and if we set them on the prototype, then all models would share the same middleware\n    if(!this.currentMiddlewareLayer) this.currentMiddlewareLayer = 0\n    if(!this.middlewareLayers)       this.middlewareLayers = []\n\n    this.middlewareLayers.push(fn)\n\n    return this\n\n  }\n\n}\n\nexport default Middleware\n"
  },
  {
    "__docId__": 80,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Middleware",
    "memberof": "src/mixins/middleware.js",
    "longname": "src/mixins/middleware.js~Middleware",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/mixins/middleware.js",
    "importStyle": "Middleware",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 81,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "next",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#next",
    "access": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "err",
        "types": [
          "*"
        ]
      },
      {
        "name": "pkg",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 82,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "currentMiddlewareLayer",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#currentMiddlewareLayer",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 83,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "middlewareLayers",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#middlewareLayers",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 84,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "use",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#use",
    "access": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "params": [
      {
        "name": "fn",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 85,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "currentMiddlewareLayer",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#currentMiddlewareLayer",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "middlewareLayers",
    "memberof": "src/mixins/middleware.js~Middleware",
    "longname": "src/mixins/middleware.js~Middleware#middlewareLayers",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/mixins/mixin.js",
    "memberof": null,
    "longname": "src/mixins/mixin.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "function mixin(source) {\n  var _this = this\n\n  source = source.prototype\n\n  Object.getOwnPropertyNames(source).forEach(function propertyName(name) {\n\n    if(name !== 'constructor' && name !== 'flowMethods') {\n      Object.defineProperty(_this, name, Object.getOwnPropertyDescriptor(source, name))\n    }\n\n  })\n\n}\n\nexport default mixin\n"
  },
  {
    "__docId__": 88,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "mixin",
    "memberof": "src/mixins/mixin.js",
    "longname": "src/mixins/mixin.js~mixin",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/mixins/mixin.js",
    "importStyle": "mixin",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "params": [
      {
        "name": "source",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 89,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/mixins/scrape.js",
    "memberof": null,
    "longname": "src/mixins/scrape.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import cheerio from 'cheerio'\n\nclass Scrape {\n\n  scrape(operations) {\n    var _this = this\n\n    this.use((pkg, next) => {\n\n      try {\n        var $ = cheerio.load(pkg)\n        pkg = operations.call(_this, $)\n\n        next(null, pkg)\n      }\n      catch(e) {\n        next(e)\n      }\n\n    })\n\n    return this\n\n  }\n\n}\n\nScrape.prototype.flowMethods = ['scrape']\n\nexport default Scrape\n"
  },
  {
    "__docId__": 90,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Scrape",
    "memberof": "src/mixins/scrape.js",
    "longname": "src/mixins/scrape.js~Scrape",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/mixins/scrape.js",
    "importStyle": "Scrape",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 91,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "scrape",
    "memberof": "src/mixins/scrape.js~Scrape",
    "longname": "src/mixins/scrape.js~Scrape#scrape",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "operations",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 92,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/mixins/stream-extras.js",
    "memberof": null,
    "longname": "src/mixins/stream-extras.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import through2 from 'through2'\n\nclass StreamExtras {\n\n  streamToString(stream) {\n\n    var chunks = '',\n        _this  = this\n\n    this.use((pkg, next) => {\n\n      stream\n        .pipe(through2({objectMode: true, allowHalfOpen: false}, function streamChunkCallback(chunk, enc, t2cb) {\n\n          chunks += chunk.toString()\n\n          t2cb(null, chunks)\n        }))\n        .on('data', function onDataCallback(data) {\n          //console.log('do we have something?', data)\n        })\n        .on('end', function onEndCallback() {\n          pkg = chunks\n          next(null, pkg)\n        })\n        .on('error', function onErrorCallback(err) {\n          next(err)\n        })\n\n    })\n\n    return this\n\n  }\n\n}\n\nStreamExtras.prototype.flowMethods = ['streamToString']\n\nexport default StreamExtras\n"
  },
  {
    "__docId__": 93,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "StreamExtras",
    "memberof": "src/mixins/stream-extras.js",
    "longname": "src/mixins/stream-extras.js~StreamExtras",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/mixins/stream-extras.js",
    "importStyle": "StreamExtras",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 94,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "streamToString",
    "memberof": "src/mixins/stream-extras.js~StreamExtras",
    "longname": "src/mixins/stream-extras.js~StreamExtras#streamToString",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "stream",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 95,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/application/index.js",
    "memberof": null,
    "longname": "src/models/application/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\n\n/**\n * AppModel Class\n *\n * @public\n * @class AppModel\n */\nclass AppModel extends Model {\n\n  /**\n   * AppModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'applications',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: {\n          Node: 'Organization',\n          foreignKey: 'id',\n          localField: 'organization',\n          localKey: 'organizationId'\n        }\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default AppModel\n"
  },
  {
    "__docId__": 96,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AppModel",
    "memberof": "src/models/application/index.js",
    "longname": "src/models/application/index.js~AppModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/application/index.js",
    "importStyle": "AppModel",
    "description": "AppModel Class",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "AppModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 97,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/application/index.js~AppModel",
    "longname": "src/models/application/index.js~AppModel#constructor",
    "access": "public",
    "description": "AppModel constructor",
    "lineNumber": 24,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 98,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/auth/index.js",
    "memberof": null,
    "longname": "src/models/auth/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport PasswordService from '../../services/password'\nimport r               from '../../lib/database/driver'\nimport TokenService    from '../../services/token'\n\n/**\n * AuthModel Class\n *\n * @public\n * @class AuthModel\n */\nclass AuthModel extends Model {\n\n  /**\n   * AuthModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'auth',\n\n      permissions: {\n        create:  ['user', 'admin'],\n        delete:  ['admin'],\n        read:    ['organization', 'admin'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'User',\n            foreignKey: 'id',\n            localField: 'user',\n            localKey: 'userId'\n          }\n        ]\n      },\n      schema: {\n        authenticatedAt: {\n          type: 'date'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Login user\n   *\n   * @public\n   * @param {Object} pkg - Login data\n   */\n  login(pkg = {}) {\n\n    return new Promise( async (resolve, reject) => {\n\n      var user = await this.getByUsername(pkg.username)\n\n      if(!user) {\n        Model.prototype.create.call(this, {\n          body: {\n            authenticated: false,\n            err: 'NO_USER',\n            username: pkg.username\n          }\n        })\n\n        return reject({\n          err: {\n            message: 'Could not get user: ' + pkg.username,\n            resource: 'AuthNode'\n          }\n        })\n      }\n\n      var validated = await new PasswordService().verify(pkg.password, user.hash)\n\n      if(!validated) {\n        Model.prototype.create.call(this, {\n          authenticated: false,\n          err: 'BAD_PASSWORD',\n          //password: pkg.password,\n          userId: user.id,\n          username: pkg.username\n        })\n        logger.error('Auth: Bad Password')\n        return reject({\n          err: {\n            message: 'Could not validate password',\n            resource: 'AuthNode'\n          }\n        })\n\n      }\n\n      Model.prototype.create.call(this, {\n        authenticated: true,\n        userId: user.id,\n        username: user.username\n      })\n\n      return resolve(user)\n\n    })\n  }\n\n  authByFacebook(req) {\n    console.error('handle args', req.body)\n    return new Promise( (resolve, reject) => {\n\n      r.db(process.env.RETHINK_DB_NAME)\n        .table('users')\n        .filter({\n          strategies: {\n            facebook: {\n              id: req.body.profile.id\n            }\n          }\n        })\n        .limit(1)\n        .run()\n        .then( (res) => {\n          console.log('handle res', res)\n          resolve()\n        })\n        .catch( (err) => {\n          console.error('handle err', err)\n          reject()\n        })\n\n    })\n  }\n\n}\n\nexport default AuthModel\n"
  },
  {
    "__docId__": 99,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AuthModel",
    "memberof": "src/models/auth/index.js",
    "longname": "src/models/auth/index.js~AuthModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/auth/index.js",
    "importStyle": "AuthModel",
    "description": "AuthModel Class",
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "AuthModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 100,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/auth/index.js~AuthModel",
    "longname": "src/models/auth/index.js~AuthModel#constructor",
    "access": "public",
    "description": "AuthModel constructor",
    "lineNumber": 27,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 101,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "login",
    "memberof": "src/models/auth/index.js~AuthModel",
    "longname": "src/models/auth/index.js~AuthModel#login",
    "access": "public",
    "description": "Login user",
    "lineNumber": 62,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "Login data"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 102,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "authByFacebook",
    "memberof": "src/models/auth/index.js~AuthModel",
    "longname": "src/models/auth/index.js~AuthModel#authByFacebook",
    "access": null,
    "description": null,
    "lineNumber": 116,
    "undocument": true,
    "params": [
      {
        "name": "req",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 103,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/bucket/index.js",
    "memberof": null,
    "longname": "src/models/bucket/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\n\n/**\n * BucketModel Class\n *\n * @public\n * @class BucketModel\n */\nclass BucketModel extends Model {\n\n  /**\n   * BucketModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'buckets',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Channel',\n            foreignKey: 'id',\n            localField: 'channel',\n            localKey: 'channelId'\n          },\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ]\n      },\n      schema: {\n        data: {\n          type: 'object'\n        },\n        desc: {\n          type: 'string'\n        },\n        /*\n        Example of a query with some documents\n\n        query: [\n          {\n            id: 5\n          },\n          // Get one article by author with id 543; this would get their latest article\n          {\n            filter: {\n              authorId: 543\n            },\n            limit: 1\n          },\n          // Get up to 5 articles that are in the category \"trending\"\n          {\n            filter: {\n              category: 'trending'\n            },\n            limit: 5\n          },\n          // Get up to 10 documents that have \"Kardashian\" as the title\n          {\n            match: /$kardashian$/,\n            key: 'title',\n            limit: 10\n          }\n        ]\n        */\n        query: {\n          type: 'array'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default BucketModel\n"
  },
  {
    "__docId__": 104,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "BucketModel",
    "memberof": "src/models/bucket/index.js",
    "longname": "src/models/bucket/index.js~BucketModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/bucket/index.js",
    "importStyle": "BucketModel",
    "description": "BucketModel Class",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "BucketModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 105,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/bucket/index.js~BucketModel",
    "longname": "src/models/bucket/index.js~BucketModel#constructor",
    "access": "public",
    "description": "BucketModel constructor",
    "lineNumber": 24,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 106,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/channel/index.js",
    "memberof": null,
    "longname": "src/models/channel/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * ChannelModel Class\n *\n * @public\n * @class ChannelModel\n */\nclass ChannelModel extends Model {\n\n  /**\n   * ChannelModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'channels',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Channel',\n            foreignKey: 'id',\n            localField: 'channelParent',\n            localKey: 'channelParentId'\n          },\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ],\n        hasMany: [\n          {\n            Node: 'Bucket',\n            foreignKey: 'id',\n            localField: 'buckets',\n            localKey: 'bucketIds'\n          },\n          {\n            Node: 'Channel',\n            foreignKey: 'id',\n            localField: 'channelChildren',\n            localKey: 'channelChildrenIds'\n          },\n        ]\n      },\n      schema: {\n        bucketIds: {\n          type: 'array'\n        },\n        data: {\n          type: 'object'\n        },\n        desc: {\n          type: 'string'\n        },\n        slug: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Get all\n   *\n   * @public\n   */\n  getAll() {\n\n    return new Promise( async (resolve, reject) => {\n\n\n\n    })\n  }\n\n}\n\nexport default ChannelModel\n"
  },
  {
    "__docId__": 107,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ChannelModel",
    "memberof": "src/models/channel/index.js",
    "longname": "src/models/channel/index.js~ChannelModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/channel/index.js",
    "importStyle": "ChannelModel",
    "description": "ChannelModel Class",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "ChannelModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 108,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/channel/index.js~ChannelModel",
    "longname": "src/models/channel/index.js~ChannelModel#constructor",
    "access": "public",
    "description": "ChannelModel constructor",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 109,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/channel/index.js~ChannelModel",
    "longname": "src/models/channel/index.js~ChannelModel#getAll",
    "access": "public",
    "description": "Get all",
    "lineNumber": 91,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 110,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/digital-asset/index.js",
    "memberof": null,
    "longname": "src/models/digital-asset/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport fs              from 'fs'\nimport Model           from '../root'\nimport request         from 'superagent'\nimport r               from '../../lib/database/driver'\n\n/**\n * DigitalAssetModel Class\n *\n * @public\n * @class DigitalAssetModel\n */\nclass DigitalAssetModel extends Model {\n\n  /**\n   * DigitalAssetModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'digital-assets',\n\n      permissions: {\n        create:  ['user'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['user'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ],\n        hasMany: [\n          {\n            Node: 'Taxonomy',\n            foreignKey: 'id',\n            localField: 'taxonomys',\n            localKey: 'taxonomysId'\n          },\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Create, or save, a new digital asset\n   *\n   * @public\n   * @param {Object} pkg - The data to save for the digital asset\n   */\n  create(pkg = {}) {\n\n    return new Promise( (resolve, reject) => {\n\n      var createFilesPromises = []\n\n      pkg.files.forEach( (file) => {\n        var insert = {\n          diskFileName: file.diskFileName,\n          mimetype: file.mimetype,\n          originalFileName: file.originalFileName,\n          originalSize: file.size,\n          storageAdaptor: file.storageAdaptor\n        }\n\n        createFilesPromises.push(Model.prototype.create.call(this, insert))\n      })\n\n      Promise.all(createFilesPromises)\n        .then( (values) => {\n          //console.error('create values', values)\n          values = this.pkgAll(values)\n          resolve(values)\n        })\n        .catch( (err) => reject(err))\n\n    })\n\n  }\n\n  /**\n   * Some embeds have a 3rd party JS script that needs to be appended to the page for them to load\n   *\n   * @public\n   * @param {String} type - Which site's embed\n   */\n  embedScript(type) {\n\n    switch(type) {\n\n      case 'imgur':\n        return `<script async src=\"//s.imgur.com/min/embed.js\" charset=\"utf-8\"></script>`\n\n      case 'instagram':\n        return `<script async defer src=\\\"//platform.instagram.com/en_US/embeds.js\\\"></script>`\n\n      case 'pinterest':\n        return `<script async defer src=\"//assets.pinterest.com/js/pinit.js\"></script>`\n\n      case 'reddit':\n        return `<script async src=\\\"https://www.redditstatic.com/comment-embed.js\\\"></script>`\n\n      case 'twitter':\n        return `<script async src=\\\"//platform.twitter.com/widgets.js\\\" charset=\\\"utf-8\\\"></script>`\n\n      case 'tumblr':\n        return `<script async src=\\\"https://secure.assets.tumblr.com/post.js\\\"></script>`\n\n      default:\n        return ''\n\n    }\n\n  }\n\n  /**\n   * Fetch the embed data\n   *\n   * @public\n   * @param {Object} pkg - The data pkg holding the information about which embed to fetch\n   */\n  fetchEmbed(pkg = {}) {\n    var type = pkg.type,\n        url  = ''\n\n    return new Promise( (resolve, reject) => {\n\n      switch(type) {\n\n        case 'aol':\n          url = `http://api.embed.ly/1/oembed?url=${pkg.url}`\n          break\n\n        case 'dailymotion':\n          url = `http://www.dailymotion.com/services/oembed?url=${pkg.url}`\n          break\n\n        case 'deviantart':\n          url = `http://backend.deviantart.com/oembed?url=${pkg.url}`\n          break\n\n        case 'flickr':\n          url = `http://www.flickr.com/services/oembed/?url=${pkg.url}`\n          break\n\n        case 'funnyordie':\n          url = `http://www.funnyordie.com/oembed.json?url=${pkg.url}`\n          break\n\n        case 'getty':\n          url = ` http://embed.gettyimages.com/oembed?url=${pkg.url}`\n          break\n\n        case 'gfycat':\n          url = `https://api.gfycat.com/v1/oembed?url=${pkg.url}`\n          break\n\n        case 'hulu':\n          url = `http://www.hulu.com/api/oembed.xml?url=${pkg.url}`\n          break\n\n        case 'ifttt':\n          url = `https://ifttt.com/oembed?url=${pkg.url}`\n          break\n\n        case 'imgur':\n          url = `http://api.imgur.com/oembed?url=${pkg.url}`\n          break\n\n        case 'instagram':\n          url = `https://api.instagram.com/oembed?url=${pkg.url}`\n          break\n\n        case 'kickstarter':\n          url = `http://www.kickstarter.com/services/oembed?url=${pkg.url}`\n          break\n\n        case 'meetup':\n          url = `https://api.meetup.com/oembed?format=json&url=${pkg.url}`\n          break\n\n        case 'newyorktimes':\n          url = `https://www.nytimes.com/svc/oembed/html/?url=${pkg.url}`\n          break\n\n        case 'pinterest':\n          return resolve({\n            html: `<a data-pin-do=\"embedPin\" data-pin-width=\"${(pkg.size || 'small')}\" href=\"${pkg.url}\"></a>`,\n            pinSize: pkg.size || 'small',\n            script: this.embedScript(pkg.type)\n          })\n\n        case 'soundcloud':\n          url = `https://soundcloud.com/oembed?url=${pkg.url}`\n          break\n\n        case 'reddit':\n          url = `https://www.reddit.com/oembed?url=${pkg.url}`\n          break\n\n        case 'twitter':\n          url = `https://api.twitter.com/1/statuses/oembed.json?url=${pkg.url}`\n          break\n\n        case 'tumblr':\n          url = `http://www.tumblr.com/oembed/1.0?url=${pkg.url}`\n          break\n\n        case 'ustream':\n          url = `http://www.ustream.tv/oembed?url=${pkg.url}`\n          break\n\n        case 'vimeo':\n          url = `https://vimeo.com/api/oembed.json?url=${pkg.url}`\n          break\n\n        case 'vine':\n          url = `https://vine.co/oembed.json?url=${pkg.url}`\n          break\n\n        case 'youtube':\n          url = `https://www.youtube.com/oembed?url=${pkg.url}?v=${pkg.v}&format=json`\n          break\n\n        default:\n          return Promise.reject()\n      }\n\n      request\n        .get(url)\n        .end( (err, res) => {\n\n          if(err) {\n            logger.error('There was an error fetching the embed')\n            console.error(err)\n            return reject(err)\n          }\n\n          return resolve(Object.assign(res.body, {\n            script: this.embedScript(type)\n          }))\n\n        })\n\n    })\n\n  }\n\n  /**\n   * Get all digital assets\n   *\n   * @public\n   */\n  getAll() {\n\n    return new Promise( (resolve, reject) => {\n\n      Model.prototype.getAll.call(this)\n        .then( (values) => {\n          values = this.pkgAll(values)\n\n          resolve(values)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n\n    })\n  }\n\n  /**\n   * Create digital asset data package for API\n   *\n   * @public\n   * @param {Object} value - The value object being passed to the API\n   */\n  pkg(value) {\n\n    value.src = {\n      url: `http://${process.env.HOST}/api/v0.1/${this.entityName}/${value.sid}/view`\n    }\n\n    return value\n\n  }\n\n  /**\n   * Package all values\n   *\n   * @public\n   * @param {String} values\n   */\n  pkgAll(values) {\n    values = values.map(this.pkg.bind(this))\n\n    return values\n  }\n\n  /**\n   * Serve digital asset from url\n   *\n   * @public\n   * @param {Object} req - Express req\n   * @param {Object} res - Express res\n   */\n  view(req, res) {\n\n    var id = req.params.id\n\n    /*\n    TODO:\n    This is the disk adapter - need to account for each adaptor\n    */\n    this.getById(id)\n      .then( (doc) => {\n        const filePath = `/tmp/uploads/${doc.diskFileName}`\n\n        res.sendFile(filePath)\n      })\n      .catch((err) => {\n        logger.error('Could not find asset', err)\n      })\n\n  }\n\n}\n\nexport default DigitalAssetModel\n"
  },
  {
    "__docId__": 111,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DigitalAssetModel",
    "memberof": "src/models/digital-asset/index.js",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/digital-asset/index.js",
    "importStyle": "DigitalAssetModel",
    "description": "DigitalAssetModel Class",
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "DigitalAssetModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 112,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#constructor",
    "access": "public",
    "description": "DigitalAssetModel constructor",
    "lineNumber": 27,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 113,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#create",
    "access": "public",
    "description": "Create, or save, a new digital asset",
    "lineNumber": 73,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The data to save for the digital asset"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 114,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "embedScript",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#embedScript",
    "access": "public",
    "description": "Some embeds have a 3rd party JS script that needs to be appended to the page for them to load",
    "lineNumber": 109,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Which site's embed"
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 115,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "fetchEmbed",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#fetchEmbed",
    "access": "public",
    "description": "Fetch the embed data",
    "lineNumber": 144,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The data pkg holding the information about which embed to fetch"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 116,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#getAll",
    "access": "public",
    "description": "Get all digital assets",
    "lineNumber": 276,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 117,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "pkg",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#pkg",
    "access": "public",
    "description": "Create digital asset data package for API",
    "lineNumber": 299,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "The value object being passed to the API"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 118,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "pkgAll",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#pkgAll",
    "access": "public",
    "description": "Package all values",
    "lineNumber": 315,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "values",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 119,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "view",
    "memberof": "src/models/digital-asset/index.js~DigitalAssetModel",
    "longname": "src/models/digital-asset/index.js~DigitalAssetModel#view",
    "access": "public",
    "description": "Serve digital asset from url",
    "lineNumber": 328,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "Express req"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "Express res"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 120,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/document/index.js",
    "memberof": null,
    "longname": "src/models/document/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger}  from '../../lib/logger'\nimport DocumentRevision from '../document-revision'\nimport Model            from '../root'\nimport r                from '../../lib/database/driver'\n\n//import config from '../../config'\n\n/**\n * DocumentModel Class\n *\n * @public\n * @class DocumentModel\n */\nclass DocumentModel extends Model {\n\n  /**\n   * DocumentModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'documents',\n\n      permissions: {\n        create:  ['user'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['user'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          },\n          {\n            Node: 'Template',\n            foreignKey: 'id',\n            localField: 'template',\n            localKey: 'templateId'\n          },\n          {\n            Node: 'User',\n            foreignKey: 'id',\n            localField: 'user',\n            localKey: 'userId'\n          }\n        ],\n        hasMany: [\n          {\n            Node: 'Taxonomy',\n            foreignKey: 'id',\n            localField: 'taxonomys',\n            localKey: 'taxonomysId'\n          },\n        ]\n      },\n      schema: {\n        activeRevisionId: {\n          type: 'string'\n        },\n        desc: {\n          type: 'string'\n        },\n        revisionIds: {\n          type: 'array'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Create, or save, a document\n   *\n   * @public\n   * @param {Object} pkg - The data to save for the document\n   */\n  create(pkg = {}) {\n\n    /*\n    NOTE:\n    When a template is created with fields, we need to take those fields and place them on a revision\n    */\n    var fields = []\n    if(pkg.fields) {\n      fields = pkg.fields.slice(0)\n      delete pkg.fields\n    }\n\n    return new Promise( async (resolve, reject) => {\n      // Create document\n      var doc = await Model.prototype.create.call(this, pkg)\n\n      // Create revision\n      var revision = await new DocumentRevision().create({\n        body: {\n          documentId: doc.id,\n          fields\n        }\n      })\n\n      // Associate document with revision\n      var update = await this.update(doc.id, {\n        body: {\n          activeRevisionId: revision.id,\n          revisionIds: [revision.id]\n        }\n      })\n\n      // Get document with first revision\n      var docFinalized = await this.getById(doc.id)\n\n      resolve(docFinalized)\n    })\n  }\n\n  /**\n   * Get all documents\n   *\n   * @public\n   */\n  getAll() {\n    return new Promise( async (resolve, reject) => {\n\n      var docs = await Model.prototype.getAll.call(this),\n          docsResolved = []\n\n      docs.forEach( (doc) => {\n        docsResolved.push(this.getActiveRevision(doc).then( (revision) => {\n          return Object.assign(doc, {\n            fields: revision.fields,\n            title: revision.title\n          })\n        }))\n      })\n\n      Promise.all(docsResolved)\n        .then( (docs) => {\n          resolve(docs)\n        })\n\n    })\n  }\n\n  /**\n   * Get document by ID\n   *\n   * @public\n   * @param {String} id\n   */\n  getById(id) {\n\n    return new Promise( async (resolve, reject) => {\n\n      var doc = await Model.prototype.getById.call(this, id)\n\n      if(!doc.id) {\n        logger.error('Could not get document', id)\n        return reject(doc)\n      }\n\n      var revision = await this.getActiveRevision(doc)\n\n      Object.assign(doc, {\n        fields: revision.fields,\n        title: revision.title\n      })\n\n      return resolve(doc)\n\n    })\n\n  }\n\n  /**\n   * Get the document's active revision\n   *\n   * @public\n   * @param {Object} doc - The document\n   */\n  getActiveRevision(doc) {\n\n    return new Promise( async (resolve, reject) => {\n\n      if(!doc.activeRevisionId) return resolve({\n        fields: [],\n        title: doc.title\n      })\n\n      var revision = await new DocumentRevision().getById(doc.activeRevisionId)\n\n      if(!revision.id) {\n        logger.error('Could not get document revision for', doc.id)\n        return reject(revision)\n      }\n\n      resolve(revision)\n\n    })\n\n  }\n\n}\n\nexport default DocumentModel\n"
  },
  {
    "__docId__": 121,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DocumentModel",
    "memberof": "src/models/document/index.js",
    "longname": "src/models/document/index.js~DocumentModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/document/index.js",
    "importStyle": "DocumentModel",
    "description": "DocumentModel Class",
    "lineNumber": 19,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "DocumentModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 122,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/document/index.js~DocumentModel",
    "longname": "src/models/document/index.js~DocumentModel#constructor",
    "access": "public",
    "description": "DocumentModel constructor",
    "lineNumber": 28,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 123,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/models/document/index.js~DocumentModel",
    "longname": "src/models/document/index.js~DocumentModel#create",
    "access": "public",
    "description": "Create, or save, a document",
    "lineNumber": 92,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The data to save for the document"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 124,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/document/index.js~DocumentModel",
    "longname": "src/models/document/index.js~DocumentModel#getAll",
    "access": "public",
    "description": "Get all documents",
    "lineNumber": 136,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 125,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getById",
    "memberof": "src/models/document/index.js~DocumentModel",
    "longname": "src/models/document/index.js~DocumentModel#getById",
    "access": "public",
    "description": "Get document by ID",
    "lineNumber": 165,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 126,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getActiveRevision",
    "memberof": "src/models/document/index.js~DocumentModel",
    "longname": "src/models/document/index.js~DocumentModel#getActiveRevision",
    "access": "public",
    "description": "Get the document's active revision",
    "lineNumber": 195,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "doc",
        "description": "The document"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 127,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/document-revision/index.js",
    "memberof": null,
    "longname": "src/models/document-revision/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport DigitalAsset    from '../digital-asset'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\nimport RevisionModel   from '../revision'\n\n/**\n * DocumentRevisionModel Class\n *\n * @public\n * @class DocumentRevisionModel\n */\nclass DocumentRevisionModel extends RevisionModel {\n\n  /**\n   * DocumentRevisionModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'document-revisions',\n\n      permissions: {\n        create:  ['user'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['user'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Document',\n            foreignKey: 'id',\n            localField: 'document',\n            localKey: 'documentId'\n          }\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default DocumentRevisionModel\n"
  },
  {
    "__docId__": 128,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DocumentRevisionModel",
    "memberof": "src/models/document-revision/index.js",
    "longname": "src/models/document-revision/index.js~DocumentRevisionModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/document-revision/index.js",
    "importStyle": "DocumentRevisionModel",
    "description": "DocumentRevisionModel Class",
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "DocumentRevisionModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/revision.js~RevisionModel"
    ]
  },
  {
    "__docId__": 129,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/document-revision/index.js~DocumentRevisionModel",
    "longname": "src/models/document-revision/index.js~DocumentRevisionModel#constructor",
    "access": "public",
    "description": "DocumentRevisionModel constructor",
    "lineNumber": 27,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 130,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/field/index.js",
    "memberof": null,
    "longname": "src/models/field/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * FieldModel Class\n *\n * @public\n * @class FieldModel\n */\nclass FieldModel extends Model {\n\n  /**\n   * FieldModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'fields',\n\n      permissions: {\n        create:  ['user', 'admin'],\n        delete:  ['admin'],\n        read:    ['user', 'organization', 'admin'],\n        replace: ['admin'],\n        update:  ['user', 'organization', 'admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ]\n      },\n      schema: {\n\n      }\n    }, options))\n  }\n\n}\n\nexport default FieldModel\n"
  },
  {
    "__docId__": 131,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FieldModel",
    "memberof": "src/models/field/index.js",
    "longname": "src/models/field/index.js~FieldModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/field/index.js",
    "importStyle": "FieldModel",
    "description": "FieldModel Class",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "FieldModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 132,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/field/index.js~FieldModel",
    "longname": "src/models/field/index.js~FieldModel#constructor",
    "access": "public",
    "description": "FieldModel constructor",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 133,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/organization/index.js",
    "memberof": null,
    "longname": "src/models/organization/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * OrganziationModel Class\n *\n * @public\n * @class OrganziationModel\n */\nclass OrganizationModel extends Model {\n\n  /**\n   * OrganizationModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'organizations',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        hasMany: [\n          {\n            Node: 'App',\n            foreignKey: 'id',\n            localField: 'apps',\n            localKey: 'appIds'\n          },\n          {\n            Node: 'Bucket',\n            foreignKey: 'id',\n            localField: 'buckts',\n            localKey: 'bucketIds'\n          },\n          {\n            Node: 'User',\n            foreignKey: 'id',\n            localField: 'users',\n            localKey: 'userIds'\n          }\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default OrganizationModel\n"
  },
  {
    "__docId__": 134,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "OrganizationModel",
    "memberof": "src/models/organization/index.js",
    "longname": "src/models/organization/index.js~OrganizationModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/organization/index.js",
    "importStyle": "OrganizationModel",
    "description": "OrganziationModel Class",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "OrganziationModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 135,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/organization/index.js~OrganizationModel",
    "longname": "src/models/organization/index.js~OrganizationModel#constructor",
    "access": "public",
    "description": "OrganizationModel constructor",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 136,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/registry/index.js",
    "memberof": null,
    "longname": "src/models/registry/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport registry        from '../../lib/registry'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * RegistryModel Class\n *\n * @public\n * @class RegistryModel\n */\nclass RegistryModel extends Model {\n\n  /**\n   * RegistryModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'registry',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          },\n        ],\n        hasMany: [\n          {\n            Node: 'Plugin',\n            foreignKey: 'id',\n            localField: 'plugins',\n            localKey: 'pluginIds'\n          },\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Create, or save, a registry item\n   *\n   * @public\n   * @param {Object} pkg - The data to save for the registry item\n   */\n  create(pkg = {}) {\n\n    return new Promise( (resolve, reject) => {\n\n\n\n    })\n  }\n\n  /**\n   * Get all registry items\n   *\n   * @public\n   */\n  getAll() {\n\n    return new Promise( async (resolve, reject) => {\n\n      var items = await Model.prototype.getAll.call(this)\n      items = items.concat(registry.items)\n\n      var pkg = {\n        adaptors: [],\n        fields: [],\n        plugins: []\n      }\n\n      items.forEach( (item) => {\n        switch(item.type) {\n          case 'adaptor':\n            pkg.adaptors.push(item)\n            break\n          case 'field':\n            pkg.fields.push(item)\n            break\n          case 'plugin':\n            pkg.plugins.push(item)\n            break\n        }\n      })\n\n      resolve(pkg)\n\n    })\n\n  }\n\n  /**\n   * Get registry setting by name\n   *\n   * @public\n   * @param {Object} pkg - The data holding the name\n   */\n  getSettingsByName(pkg = {}) {\n\n    return new Promise( (resolve, reject) => {\n\n      try {\n        var pluginSettings = require(pkg.name).default.settings\n        resolve(pluginSettings)\n      }\n      catch(e) {\n        reject(e)\n      }\n\n    })\n\n  }\n\n}\n\nexport default RegistryModel\n"
  },
  {
    "__docId__": 137,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RegistryModel",
    "memberof": "src/models/registry/index.js",
    "longname": "src/models/registry/index.js~RegistryModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/registry/index.js",
    "importStyle": "RegistryModel",
    "description": "RegistryModel Class",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "RegistryModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 138,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/registry/index.js~RegistryModel",
    "longname": "src/models/registry/index.js~RegistryModel#constructor",
    "access": "public",
    "description": "RegistryModel constructor",
    "lineNumber": 26,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 139,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/models/registry/index.js~RegistryModel",
    "longname": "src/models/registry/index.js~RegistryModel#create",
    "access": "public",
    "description": "Create, or save, a registry item",
    "lineNumber": 72,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The data to save for the registry item"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 140,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/registry/index.js~RegistryModel",
    "longname": "src/models/registry/index.js~RegistryModel#getAll",
    "access": "public",
    "description": "Get all registry items",
    "lineNumber": 86,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 141,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getSettingsByName",
    "memberof": "src/models/registry/index.js~RegistryModel",
    "longname": "src/models/registry/index.js~RegistryModel#getSettingsByName",
    "access": "public",
    "description": "Get registry setting by name",
    "lineNumber": 125,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The data holding the name"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 142,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/revision/index.js",
    "memberof": null,
    "longname": "src/models/revision/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport DigitalAsset    from '../digital-asset'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * RevisionModel Class\n *\n * @public\n * @class RevisionModel\n */\nclass RevisionModel extends Model {\n\n  /**\n   * RevisionModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'revisions',\n\n      permissions: {\n        create:  ['user'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['user'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Document',\n            foreignKey: 'id',\n            localField: 'document',\n            localKey: 'documentId'\n          }\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Get all revisions\n   *\n   * @public\n   */\n  getAll() {\n\n    return new Promise( (resolve, reject) => {\n\n      Model.prototype.getAll.call(this)\n        .then( (revisions) => {\n\n          var resolvedRevisions = []\n          revisions.forEach( (revision) => {\n            resolvedRevisions.push(this.resolveFields(revisions))\n          })\n\n          Promise.all(resolvedRevisions)\n            .then( (revisions) => {\n              resolve(revisions)\n            })\n            .catch( (err) => {\n              logger.error('Error resolving revisions', err)\n              reject(err)\n            })\n        })\n        .catch( (err) => {\n          logger.error('Could not get revisions', err)\n        })\n\n    })\n\n  }\n\n  /**\n   * Get a revision by ID\n   *\n   * @public\n   * @param {String} id\n   */\n  getById(id) {\n\n    return new Promise( async (resolve, reject) => {\n\n      var revision = await Model.prototype.getById.call(this, id)\n\n      if(!revision.id) {\n        logger.error('Could not get revision', id)\n        return reject(revisions)\n      }\n\n      this.resolveFields(revision)\n        .then( (revision) => {\n          resolve(revision)\n        })\n        .catch( (err) => {\n          logger.error('Could not resolve fields for revision', err)\n        })\n\n    })\n\n  }\n\n  /**\n   * Get a field reference\n   *\n   * @public\n   * @param {Object} ref - The field reference data\n   */\n  getFieldReference(ref = {}) {\n    return new Promise( (resolve, reject) => {\n\n      r.db(process.env.RETHINK_DB_NAME).table(ref.node.replace('-', '_')).get(ref.id).run()\n        .then( (res) => {\n          resolve(res)\n        })\n        .catch( (err) => {\n          console.error('Could not get field reference', err)\n          reject(err)\n        })\n\n    })\n  }\n\n  /**\n   * Get references for a field\n   *\n   * @public\n   * @param {Object} field - The field\n   */\n  getFieldReferences(field = {}) {\n    var resolvedRefs = 0\n\n    return new Promise( (resolve, reject) => {\n\n      if(!field.__refs) {\n        return resolve(field)\n      }\n\n      field.__refs.forEach( (ref) => {\n        this.getFieldReference(ref)\n          .then( (res) => {\n\n            switch(ref.node) {\n              case 'digital-asset':\n\n                var da   = new DigitalAsset(),\n                    pkgd = da.pkg(res)\n\n                Object.assign(field, {\n                  body: {\n                    mimetype: pkgd.mimetype,\n                    src: pkgd.src\n                  }\n                })\n\n                break\n\n              /*\n              TODO:\n              Not quite sure what to do here\n              */\n              default:\n                var re = Object.assign({}, res)\n                delete re.id\n\n                Object.assign(field, {\n                  body: re\n                })\n            }\n\n            resolvedRefs++\n\n            if(field.__refs.length == resolvedRefs) {\n              resolve(field)\n            }\n          })\n          .catch( (err) => {\n            logger.error('Could not handle field references', err)\n            reject(err)\n          })\n\n      })\n\n    })\n  }\n\n  /**\n   * Resolve field references\n   *\n   * @public\n   * @param {Object} field - The field\n   */\n  resolveFieldReferences(field) {\n\n    return new Promise( (resolve, reject) => {\n\n      var resolvedRefs = []\n      resolvedFields.push(this.getFieldReferences(field))\n\n      Promise\n        .all(resolvedFields)\n        .then( (fields) => {\n          resolve(fields[0])\n        })\n        .catch( (err) => {\n          logger.error('Error fetching revision field references', err)\n          reject(err)\n        })\n\n    })\n\n  }\n\n  /**\n   * Resolve fields for revision\n   *\n   * @public\n   * @param {Object} revision - The revision\n   */\n  resolveFields(revision) {\n\n    return new Promise( (resolve, reject) => {\n\n      var fieldsResolved = []\n\n      if(revision.fields) {\n        revision.fields.forEach( (field, i) => {\n          fieldsResolved.push(this.resolveFieldRefences(field, i))\n        })\n\n        Promise\n          .all(fieldsResolved)\n          .then( (fields) => {\n            Object.assign(revision, {\n              fields\n            })\n\n            resolve(revision)\n          })\n          .catch( (err) => {\n            reject(err)\n          })\n      }\n      else {\n        resolve(revision)\n      }\n\n    })\n\n  }\n\n}\n\nexport default RevisionModel\n"
  },
  {
    "__docId__": 143,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RevisionModel",
    "memberof": "src/models/revision/index.js",
    "longname": "src/models/revision/index.js~RevisionModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/revision/index.js",
    "importStyle": "RevisionModel",
    "description": "RevisionModel Class",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "RevisionModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 144,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#constructor",
    "access": "public",
    "description": "RevisionModel constructor",
    "lineNumber": 26,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 145,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#getAll",
    "access": "public",
    "description": "Get all revisions",
    "lineNumber": 63,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 146,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getById",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#getById",
    "access": "public",
    "description": "Get a revision by ID",
    "lineNumber": 98,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 147,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getFieldReference",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#getFieldReference",
    "access": "public",
    "description": "Get a field reference",
    "lineNumber": 127,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ref",
        "description": "The field reference data"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 148,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getFieldReferences",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#getFieldReferences",
    "access": "public",
    "description": "Get references for a field",
    "lineNumber": 148,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "field",
        "description": "The field"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 149,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resolveFieldReferences",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#resolveFieldReferences",
    "access": "public",
    "description": "Resolve field references",
    "lineNumber": 211,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "field",
        "description": "The field"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 150,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resolveFields",
    "memberof": "src/models/revision/index.js~RevisionModel",
    "longname": "src/models/revision/index.js~RevisionModel#resolveFields",
    "access": "public",
    "description": "Resolve fields for revision",
    "lineNumber": 238,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "revision",
        "description": "The revision"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 151,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/root.js",
    "memberof": null,
    "longname": "src/models/root.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../lib/logger'\nimport EventEmitter    from '../lib/eventemitter'\nimport mixin           from '../lib/mixin'\nimport ShortId         from '../services/short-id'\nimport r               from '../lib/database/driver'\nimport uuid            from '../lib/utils/uuid'\n\n/**\n * RootModel Class\n *\n * @public\n * @class RootModel\n */\nclass RootModel {\n\n  /**\n   * RootModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n\n    /**\n     * Default parameters\n     *\n     * @private\n     * @type {Object}\n     */\n    this.defaults = {}\n\n    /**\n     * Default read/write permissions for model.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.permissions = {\n      create:  ['admin'],\n      delete:  ['admin'],\n      read:    ['public'],\n      replace: ['admin'],\n      update:  ['admin'],\n    }\n\n    Object.assign(this, options)\n    if(!this.name) {\n      throw new Error('model.name must be defined')\n    }\n\n    /**\n     * Name of the default table the model works with.\n     *\n     * @private\n     * @type {String}\n     */\n    if(!this.table) this.table = this.name.replace(/\\-/g, '_')\n\n    /**\n     * (optional) Table schema\n     *\n     * @private\n     * @type {Object}\n     */\n    var schema = {}\n    if(this.schema) {\n\n    }\n\n  }\n\n  /**\n   * Create, or save, data for the model\n   *\n   * @public\n   * @param {Object} pkg - Data to be saved\n   * @param {Object} options - Options\n   */\n  create(pkg = {}, options = {}) {\n\n    var insertOptions = {\n      returnChanges: options.returnChanges || true\n    }\n\n    pkg.createdAt  = r.now()\n    pkg.id         = pkg.id || uuid()\n    pkg.sid        = new ShortId().issue(pkg.id)\n    pkg.updatedAt  = r.now()\n    pkg.__version  = process.env.npm_package_version\n\n    return new Promise( async (resolve, reject) => {\n\n      try {\n\n        var res = await r.table(options.table || this.table).insert(pkg, insertOptions)\n        if(res.errors && res.errors > 0) {\n          throw new Error(res.first_error)\n        }\n\n        var doc = res.changes[0].new_val\n\n        //logger.debug('Document created', doc)\n        if(pkg.__refs && pkg.__refs.length > 0) {\n\n          var refs = []\n          pkg.__refs.forEach( (ref) => {\n            refs.push(this.referenceTo('belongsTo', doc.id, ref))\n          })\n\n          return Promise\n            .all(refs)\n            .then( () => {\n              resolve(doc)\n            })\n            .catch(reject)\n        }\n\n        else {\n          return resolve(doc)\n        }\n      }\n      catch(err) {\n        logger.error('Could not create')\n        console.error(err)\n        throw err\n      }\n\n    })\n  }\n\n  /**\n   * Delete by id\n   *\n   * @public\n   * @param {String} id\n   */\n  delete(id) {\n    return Promise.resolve()\n  }\n\n  /**\n   * Get model by id\n   *\n   * @public\n   * @param {String} id\n   */\n  getById(id) {\n\n    // Short ID\n    if(id.length <= 10) {\n\n      return new Promise( async (resolve, reject) => {\n\n        try {\n          var doc = await r.table(this.table).filter({sid: id}).limit(1)\n          return resolve(this.getById(doc[0].id))\n        }\n        catch(err) {\n          logger.error('Could not get by id')\n          console.error(err.stack)\n          throw err\n        }\n\n      })\n    }\n\n    // Long ID\n    else {\n      return r.table(this.table).get(id)\n    }\n\n  }\n\n  /**\n   * Get all from table\n   *\n   * @public\n   * @todo Add logic to limit, paginate, etc.\n   */\n  getAll() {\n    return r.table(this.table).orderBy(r.desc('updatedAt')).limit(10)\n  }\n\n  /**\n   * Get model relationships\n   *\n   * @private\n   * @param {String} Relationship type\n   */\n  getRelations(type) {\n    var relations = []\n\n    Object.keys(this.relations).forEach( (relation) => {\n\n      if(relation == type) {\n        relations = this.relations[relation]\n      }\n\n    })\n\n    return relations\n  }\n\n  /**\n   * Create, or save, data for the model\n   *\n   * @private\n   * @param {String} Relationship type\n   * @param {String} id\n   * @param {Object} Reference object\n   */\n  referenceTo(type, id, reference) {\n\n    return new Promise( (resolve, reject) => {\n      var inserts = []\n\n      Object.keys(reference).forEach( async (key) => {\n        var referencePkg = {}\n        referencePkg[`${this.name}Id`] = id // local key\n        referencePkg[key] = reference[key]  // foreign key\n\n        switch(type) {\n          case 'belongsTo':\n            //referencePkg.name = `${key.replace('Id', '')}_has_${this.name}`\n            referencePkg.type = 'belongsTo'\n\n            break\n        }\n\n        referencePkg.node = this.name\n\n        inserts.push(this.insertReference(referencePkg))\n      })\n\n      Promise\n        .all(inserts)\n        .then(resolve)\n        .catch(reject)\n\n    })\n\n  }\n\n  /**\n   * Insert model reference to table 'refs'\n   *\n   * @private\n   * @param {Object} Reference to be saved\n   */\n  insertReference(pkg = {}) {\n    return r.table('refs').insert(pkg)\n  }\n\n  /**\n   * Update a model\n   *\n   * @public\n   * @param {String} id\n   * @param {Object} pkg - Data to be saved\n   * @param {Object} options - Options\n   */\n  update(id, pkg = {}, options = {}) {\n\n    pkg.__version  = process.env.npm_package_version\n\n    options.returnChanges = options.returnChanges || true\n\n    return new Promise( async (resolve, reject) => {\n\n      try {\n        var res = await r.table(this.table).get(id).update(pkg, options)\n\n        return resolve(res.changes[0].new_val)\n      }\n      catch(err) {\n        logger.error('Error updating')\n        console.error(err.stack)\n        throw err\n      }\n\n    })\n  }\n\n}\n\n/**\n * Mixin EventEmitter.prototype properties onto RootModel.prototype\n *\n * @ignore\n */\nmixin(RootModel, EventEmitter)\n\nexport default RootModel\n"
  },
  {
    "__docId__": 152,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RootModel",
    "memberof": "src/models/root.js",
    "longname": "src/models/root.js~RootModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/root.js",
    "importStyle": "RootModel",
    "description": "RootModel Class",
    "lineNumber": 19,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "RootModel"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 153,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#constructor",
    "access": "public",
    "description": "RootModel constructor",
    "lineNumber": 28,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 154,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "defaults",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#defaults",
    "access": "private",
    "description": "Default parameters",
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 155,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "permissions",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#permissions",
    "access": "private",
    "description": "Default read/write permissions for model.",
    "lineNumber": 44,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 156,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "table",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#table",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 157,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#create",
    "access": "public",
    "description": "Create, or save, data for the model",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "Data to be saved"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 158,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "delete",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#delete",
    "access": "public",
    "description": "Delete by id",
    "lineNumber": 143,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 159,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getById",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#getById",
    "access": "public",
    "description": "Get model by id",
    "lineNumber": 153,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 160,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#getAll",
    "access": "public",
    "description": "Get all from table",
    "lineNumber": 186,
    "todo": [
      "Add logic to limit, paginate, etc."
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 161,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRelations",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#getRelations",
    "access": "private",
    "description": "Get model relationships",
    "lineNumber": 196,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "Relationship",
        "description": "type"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 162,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "referenceTo",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#referenceTo",
    "access": "private",
    "description": "Create, or save, data for the model",
    "lineNumber": 218,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "Relationship",
        "description": "type"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "Reference",
        "description": "object"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 163,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "insertReference",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#insertReference",
    "access": "private",
    "description": "Insert model reference to table 'refs'",
    "lineNumber": 256,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "Reference",
        "description": "to be saved"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 164,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "update",
    "memberof": "src/models/root.js~RootModel",
    "longname": "src/models/root.js~RootModel#update",
    "access": "public",
    "description": "Update a model",
    "lineNumber": 268,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "Data to be saved"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 165,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/taxonomy/index.js",
    "memberof": null,
    "longname": "src/models/taxonomy/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\n\n/**\n * TaxonomyModel Class\n *\n * @public\n * @class TaxonomyModel\n */\nclass TaxonomyModel extends Model {\n\n  /**\n   * TaxonomyModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'taxonomies',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          },\n          {\n            Node: 'Taxonomy',\n            foreignKey: 'id',\n            localField: 'taxonomy',\n            localKey: 'taxonomyId'\n          },\n        ],\n        hasMany: [\n          {\n            Node: 'Taxonomy',\n            foreignKey: 'id',\n            localField: 'taxonomys',\n            localKey: 'taxonomysId'\n          },\n        ]\n      },\n      schema: {\n        data: {\n          type: 'object'\n        },\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default TaxonomyModel\n"
  },
  {
    "__docId__": 166,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TaxonomyModel",
    "memberof": "src/models/taxonomy/index.js",
    "longname": "src/models/taxonomy/index.js~TaxonomyModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/taxonomy/index.js",
    "importStyle": "TaxonomyModel",
    "description": "TaxonomyModel Class",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "TaxonomyModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 167,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/taxonomy/index.js~TaxonomyModel",
    "longname": "src/models/taxonomy/index.js~TaxonomyModel#constructor",
    "access": "public",
    "description": "TaxonomyModel constructor",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 168,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/template/index.js",
    "memberof": null,
    "longname": "src/models/template/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger}  from '../../lib/logger'\nimport Model            from '../root'\nimport r                from '../../lib/database/driver'\nimport TemplateRevision from '../template-revision'\n\n/**\n * TemplateModel Class\n *\n * @public\n * @class TemplateModel\n */\nclass TemplateModel extends Model {\n\n  /**\n   * TemplateModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'templates',\n\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['admin'],\n      },\n      relations: {\n        belongsTo: {\n          Node: 'Organization',\n          foreignKey: 'id',\n          localField: 'organization',\n          localKey: 'organizationId'\n        }\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        fields: {\n          type: 'array'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Get all templates\n   *\n   * @public\n   */\n  getAll() {\n    return new Promise( async (resolve, reject) => {\n\n      var docs = await Model.prototype.getAll.call(this),\n          docsResolved = []\n\n      docs.forEach( (doc) => {\n        docsResolved.push(this.getActiveRevision(doc).then( (revision) => {\n          return Object.assign(doc, {\n            fields: revision.fields,\n            title: revision.title\n          })\n        }))\n      })\n\n      Promise.all(docsResolved)\n        .then( (docs) => {\n          resolve(docs)\n        })\n\n    })\n  }\n\n  /**\n   * Get template by ID\n   *\n   * @public\n   * @param {String} id\n   */\n  getById(id) {\n\n    return new Promise( async (resolve, reject) => {\n\n      var doc = await Model.prototype.getById.call(this, id)\n\n      if(!doc.id) {\n        logger.error('Could not get template', id)\n        return reject(doc)\n      }\n\n      var revision = await this.getActiveRevision(doc)\n\n      Object.assign(doc, {\n        fields: revision.fields,\n        title: revision.title\n      })\n\n      return resolve(doc)\n\n    })\n\n  }\n\n  /**\n   * Get template's active revision\n   *\n   * @public\n   * @param {Object} doc - The item to get a revision for\n   */\n  getActiveRevision(doc) {\n\n    return new Promise( async (resolve, reject) => {\n\n      if(!doc.activeRevisionId) return resolve({\n        fields: [],\n        title: doc.title\n      })\n\n      var revision = await new TemplateRevision().getById(doc.activeRevisionId)\n\n      if(!revision.id) {\n        logger.error('Could not get template revision for', doc.id)\n        return reject(revision)\n      }\n\n      resolve(revision)\n\n    })\n\n  }\n\n}\n\nexport default TemplateModel\n"
  },
  {
    "__docId__": 169,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TemplateModel",
    "memberof": "src/models/template/index.js",
    "longname": "src/models/template/index.js~TemplateModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/template/index.js",
    "importStyle": "TemplateModel",
    "description": "TemplateModel Class",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "TemplateModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 170,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/template/index.js~TemplateModel",
    "longname": "src/models/template/index.js~TemplateModel#constructor",
    "access": "public",
    "description": "TemplateModel constructor",
    "lineNumber": 26,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 171,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAll",
    "memberof": "src/models/template/index.js~TemplateModel",
    "longname": "src/models/template/index.js~TemplateModel#getAll",
    "access": "public",
    "description": "Get all templates",
    "lineNumber": 64,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 172,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getById",
    "memberof": "src/models/template/index.js~TemplateModel",
    "longname": "src/models/template/index.js~TemplateModel#getById",
    "access": "public",
    "description": "Get template by ID",
    "lineNumber": 93,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 173,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getActiveRevision",
    "memberof": "src/models/template/index.js~TemplateModel",
    "longname": "src/models/template/index.js~TemplateModel#getActiveRevision",
    "access": "public",
    "description": "Get template's active revision",
    "lineNumber": 123,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "doc",
        "description": "The item to get a revision for"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 174,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/template-revision/index.js",
    "memberof": null,
    "longname": "src/models/template-revision/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport DigitalAsset    from '../digital-asset'\nimport Model           from '../root'\nimport r               from '../../lib/database/driver'\nimport RevisionModel   from '../revision'\n\n/**\n * TemplateRevisionModel Class\n *\n * @public\n * @class TemplateRevisionModel\n */\nclass TemplateRevisionModel extends RevisionModel {\n\n  /**\n   * TemplateRevisionModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'template-revisions',\n\n      permissions: {\n        create:  ['user'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['user'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Template',\n            foreignKey: 'id',\n            localField: 'template',\n            localKey: 'templateId'\n          }\n        ]\n      },\n      schema: {\n        desc: {\n          type: 'string'\n        },\n        title: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n}\n\nexport default TemplateRevisionModel\n"
  },
  {
    "__docId__": 175,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TemplateRevisionModel",
    "memberof": "src/models/template-revision/index.js",
    "longname": "src/models/template-revision/index.js~TemplateRevisionModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/template-revision/index.js",
    "importStyle": "TemplateRevisionModel",
    "description": "TemplateRevisionModel Class",
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "TemplateRevisionModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/revision.js~RevisionModel"
    ]
  },
  {
    "__docId__": 176,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/template-revision/index.js~TemplateRevisionModel",
    "longname": "src/models/template-revision/index.js~TemplateRevisionModel#constructor",
    "access": "public",
    "description": "TemplateRevisionModel constructor",
    "lineNumber": 27,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 177,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/user/index.js",
    "memberof": null,
    "longname": "src/models/user/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {chalk, logger} from '../../lib/logger'\nimport Model           from '../root'\nimport PasswordService from '../../services/password'\nimport r               from '../../lib/database/driver'\n\n/**\n * UserModel Class\n *\n * @public\n * @class UserModel\n */\nclass UserModel extends Model {\n\n  /**\n   * UserModel constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options - Options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      name: 'users',\n\n      mapping: {\n        fields: {\n\n        }\n      },\n      permissions: {\n        create:  ['admin'],\n        delete:  ['admin'],\n        read:    ['organization'],\n        replace: ['admin'],\n        update:  ['self', 'admin'],\n      },\n      relations: {\n        belongsTo: [\n          {\n            Node: 'Organization',\n            foreignKey: 'id',\n            localField: 'organization',\n            localKey: 'organizationId'\n          }\n        ]\n      },\n      schema: {\n        email: {\n          type: 'string'\n        },\n        username: {\n          type: 'string'\n        }\n      }\n    }, options))\n  }\n\n  /**\n   * Create, or save, user data for the model\n   *\n   * @public\n   * @param {Object} pkg - Data to be saved\n   * @param {Object} options - Options\n   */\n  create(pkg = {}, options = {}) {\n\n    return new Promise( async (resolve, reject) => {\n\n      pkg.hash = await new PasswordService().issue(pkg.password)\n      delete pkg.password\n\n      try {\n        var doc = await Model.prototype.create.call(this, pkg, options)\n\n        resolve(doc)\n      }\n      catch(e) {\n        throw new Error(e)\n      }\n\n    })\n\n  }\n\n  /**\n   * Get user by email\n   *\n   * @public\n   * @param {String} email\n   */\n  getByEmail(email) {\n    return r.db(process.env.RETHINK_DB_NAME).table(this.table).filter({email}).limit(1)\n  }\n\n  /**\n   * Get user by username\n   *\n   * @public\n   * @param {String} username\n   */\n  getByUsername(username) {\n    return new Promise( async (resolve, reject) => {\n      var user = await thinky.r.db(process.env.RETHINK_DB_NAME).table('users').filter({username}).limit(1)\n\n      if(!user) return reject(user)\n\n      resolve(user[0])\n    })\n  }\n\n}\n\nexport default UserModel\n"
  },
  {
    "__docId__": 178,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "UserModel",
    "memberof": "src/models/user/index.js",
    "longname": "src/models/user/index.js~UserModel",
    "access": "public",
    "export": true,
    "importPath": "structure-core/src/models/user/index.js",
    "importStyle": "UserModel",
    "description": "UserModel Class",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": "UserModel"
      }
    ],
    "interface": false,
    "extends": [
      "src/models/root.js~Model"
    ]
  },
  {
    "__docId__": 179,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/models/user/index.js~UserModel",
    "longname": "src/models/user/index.js~UserModel#constructor",
    "access": "public",
    "description": "UserModel constructor",
    "lineNumber": 26,
    "unknown": [
      {
        "tagName": "@constructor",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 180,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/models/user/index.js~UserModel",
    "longname": "src/models/user/index.js~UserModel#create",
    "access": "public",
    "description": "Create, or save, user data for the model",
    "lineNumber": 70,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "Data to be saved"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 181,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByEmail",
    "memberof": "src/models/user/index.js~UserModel",
    "longname": "src/models/user/index.js~UserModel#getByEmail",
    "access": "public",
    "description": "Get user by email",
    "lineNumber": 96,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "email",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 182,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByUsername",
    "memberof": "src/models/user/index.js~UserModel",
    "longname": "src/models/user/index.js~UserModel#getByUsername",
    "access": "public",
    "description": "Get user by username",
    "lineNumber": 106,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "username",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 183,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/dispatcher.js",
    "memberof": null,
    "longname": "src/server/dispatcher.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import {chalk, logger} from '../lib/logger'\n\nclass Dispatcher {\n\n  constructor(options = {}) {\n    this.options = options\n  }\n\n  dispatch(controller, actionName) {\n\n    return async (req, res, next) => {\n\n      var action = controller[actionName]\n\n      if(req.files) {\n        console.error('files', req.files)\n        /*\n        TODO: what's a better way to handle this?\n        */\n        req.body.files = req.files.map( (file) => {\n          file.diskFileName     = file.filename\n          file.originalFileName = file.originalname.replace(/ /g, '_')\n          file.storageAdaptor   = storageAdaptors.disk.name\n\n          return file\n        })\n      }\n\n      var pkg    = {},\n          status = 200\n\n      try {\n        var result = await action.call(controller, req)\n\n        if(req.method == 'PUT') status = 201\n\n        // return collection name\n        if(actionName == 'getAll') {\n          pkg[controller.name] = result\n        }\n        // return item\n        else {\n          pkg = result\n        }\n\n        res.status(status).json({\n          pkg,\n          status\n        })\n      }\n      catch(err) {\n        logger.error(`Action ${actionName} failed`)\n        console.error(err.stack)\n\n        status = 403\n\n        res.status(status).json({\n          status\n        })\n      }\n\n    }\n\n  }\n\n}\n\nexport default Dispatcher\n"
  },
  {
    "__docId__": 184,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Dispatcher",
    "memberof": "src/server/dispatcher.js",
    "longname": "src/server/dispatcher.js~Dispatcher",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/server/dispatcher.js",
    "importStyle": "Dispatcher",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 185,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/dispatcher.js~Dispatcher",
    "longname": "src/server/dispatcher.js~Dispatcher#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 186,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "options",
    "memberof": "src/server/dispatcher.js~Dispatcher",
    "longname": "src/server/dispatcher.js~Dispatcher#options",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 187,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "dispatch",
    "memberof": "src/server/dispatcher.js~Dispatcher",
    "longname": "src/server/dispatcher.js~Dispatcher#dispatch",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "controller",
        "types": [
          "*"
        ]
      },
      {
        "name": "actionName",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 188,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/index.js",
    "memberof": null,
    "longname": "src/server/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import bodyParser      from 'body-parser'\nimport {chalk, logger} from '../lib/logger'\nimport Dispatcher      from './dispatcher'\nimport express         from 'express'\nimport path            from 'path'\nimport r               from '../lib/database/driver'\nimport Router          from './router'\nimport serveStatic     from 'serve-static'\n\nfunction removePoweredBy(req, res, next) {\n  res.removeHeader('X-Powered-By')\n  next()\n}\n\nclass StructureServer {\n\n  constructor(options = {}) {\n\n    this.server = express()\n\n    this.server.use(serveStatic(path.join(__dirname, '../public')))\n    this.server.use(bodyParser.urlencoded({extended: true}))\n    this.server.use(bodyParser.json({strict: false}))\n    this.server.use(removePoweredBy)\n    if(process.env.NODE_ENV != 'test') {\n      this.server.use(this.logRequestInfo)\n    }\n\n    //this.loadRoutes()\n\n  }\n\n  getRoutes() {\n    var route, routes = []\n\n    this.server._router.stack.forEach(function(middleware) {\n      if(middleware.route) {\n        routes.push(middleware.route)\n      } else if(middleware.name === 'router') { // router middleware\n        middleware.handle.stack.forEach(function(handler) {\n          route = handler.route\n          route && routes.push(route)\n        })\n      }\n    })\n\n    return routes\n  }\n\n  loadRoutes() {\n    require('./routes')(this.server)\n  }\n\n  logRequestInfo(req, res, next) {\n\n    logger.info(req.method, req.originalUrl)\n    next()\n\n  }\n\n  start() {\n    this.router = this.router || new Router({\n      dispatcher: new Dispatcher(),\n      server: this.server\n    })\n\n    this.server = this.server.listen(process.env.EXPRESS_PORT)\n\n  }\n\n  stop() {\n\n    r.getPoolMaster().drain()\n    this.server.close()\n\n  }\n\n  use() {\n\n    this.server.use.apply(this.server, arguments)\n\n  }\n\n}\n\nmodule.exports = StructureServer\n"
  },
  {
    "__docId__": 189,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "removePoweredBy",
    "memberof": "src/server/index.js",
    "longname": "src/server/index.js~removePoweredBy",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/server/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "req",
        "types": [
          "*"
        ]
      },
      {
        "name": "res",
        "types": [
          "*"
        ]
      },
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 190,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "StructureServer",
    "memberof": "src/server/index.js",
    "longname": "src/server/index.js~StructureServer",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/server/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 191,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#constructor",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 192,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "server",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#server",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 193,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRoutes",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#getRoutes",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 194,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "loadRoutes",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#loadRoutes",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 195,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "logRequestInfo",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#logRequestInfo",
    "access": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "params": [
      {
        "name": "req",
        "types": [
          "*"
        ]
      },
      {
        "name": "res",
        "types": [
          "*"
        ]
      },
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 196,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "start",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#start",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 197,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "router",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#router",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 198,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "server",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#server",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 199,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "stop",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#stop",
    "access": null,
    "description": null,
    "lineNumber": 71,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 200,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "use",
    "memberof": "src/server/index.js~StructureServer",
    "longname": "src/server/index.js~StructureServer#use",
    "access": null,
    "description": null,
    "lineNumber": 78,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 201,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/router.js",
    "memberof": null,
    "longname": "src/server/router.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import {chalk, logger}   from '../lib/logger'\nimport cors              from 'cors'\nimport multer            from 'multer'\nimport storageAdaptors   from './storageAdaptors'\n\nimport App               from '../controllers/applications'\nimport Auth              from '../controllers/auth'\nimport Bucket            from '../controllers/buckets'\nimport DigitalAsset      from '../controllers/digital-assets'\nimport Document          from '../controllers/documents'\nimport DocumentRevision  from '../controllers/document-revisions'\nimport Field             from '../controllers/fields'\nimport Org               from '../controllers/organizations'\nimport Registry          from '../controllers/registry'\nimport Taxonomy          from '../controllers/taxonomies'\nimport Template          from '../controllers/templates'\nimport TemplateRevision  from '../controllers/template-revisions'\nimport User              from '../controllers/users'\n\nconst Controllers = [App, Auth, Bucket, DigitalAsset, Document, DocumentRevision, Field, Org, Registry, Taxonomy, Template, TemplateRevision, User]\n\nvar upload = multer({storage: storageAdaptors.disk.adaptor}).any()\n\nclass Router {\n\n  constructor(options = {}) {\n    this.options     = options\n\n    this.Controllers = this.options.Controllers || Controllers\n    this.dispatcher  = this.options.dispatcher\n\n    this.routes      = options.routes\n    this.server      = options.server\n    //this.structRoute()\n    this.loadRoutes()\n    this.generateRoutesFromNodes()\n\n  }\n\n  generateRoutesFromNodes() {\n    var server  = this.server,\n        version = `v${process.env.API_VERSION}`\n\n    /*\n    TODO:\n    Make this a simple on/off flag\n    */\n    server.use(cors())\n\n    /*\n    TODO: build middleware to handle the extra routes needed per respective node(s)\n    */\n    var digitalAsset = new DigitalAsset()\n\n    server.get(`/api/${version}/digital-assets/embeds/:type/:url(*)`,  this.dispatcher.dispatch(new DigitalAsset(), 'fetchEmbed'))\n    server.get(`/api/${version}/digital-assets/:id/view`,              digitalAsset.view.bind(digitalAsset))\n    server.get(`/api/${version}/registry/settings/:name`,              this.dispatcher.dispatch(new Registry(), 'getSettingsByName'))\n\n    server.post(`/api/${version}/auth/login`,                          this.dispatcher.dispatch(new Auth(), 'login'))\n    server.post(`/api/${version}/auth/user/facebook`,                  this.dispatcher.dispatch(new Auth(), 'authByFacebook'))\n\n    server.put(`/api/${version}/digital-assets`,                       [upload, this.dispatcher.dispatch(new DigitalAsset(), 'create')])\n\n    this.Controllers.forEach( (Controller) => {\n      var controller = new Controller(),\n          routeName  = controller.name\n\n      server.get(`/api/${version}/${routeName}/:id`,                    this.dispatcher.dispatch(controller, 'getById'))\n      server.get(`/api/${version}/${routeName}`,                        this.dispatcher.dispatch(controller, 'getAll'))\n\n      server.post(`/api/${version}/${routeName}/:id`,                   this.dispatcher.dispatch(controller, 'update'))\n\n      server.put(`/api/${version}/${routeName}`,                        this.dispatcher.dispatch(controller, 'create'))\n\n      server.delete(`/api/${version}/${routeName}/:id`,                 this.dispatcher.dispatch(controller, 'delete'))\n    })\n\n  }\n\n  loadRoutes() {\n    this.routes.call(this, this.server)\n  }\n\n  structRoute() {\n    var server = this.server\n\n    var mapper = {\n      buckets: {\n        Node: 'bucket'\n      }\n    }\n\n    server.post(`/api/struct`, (req, res, next) => {\n\n      /* Example Query:\n      buckets: {\n        fields: ['data', 'desc', 'id', 'sid', 'title'],\n        id: 12345\n      }\n      */\n      var query = req.body.query\n\n      var fetch = {}\n\n      Object.keys(query).forEach( async (k, i) => {\n        var o = query[k]\n\n        var node = require(`../../nodes/${mapper[k].Node}`).default\n\n        /*\n        TODO: pluck the values instead of returning all the values\n        */\n        if(o.id) {\n          fetch[k] = await node.getById(o.id)\n        }\n\n        else {\n          fetch[k] = await node.getAll()\n        }\n\n      })\n\n      res.status(200).json({\n        pkg: fetch,\n        status: 200\n      })\n    })\n  }\n\n}\n\nexport default Router\n"
  },
  {
    "__docId__": 202,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Controllers",
    "memberof": "src/server/router.js",
    "longname": "src/server/router.js~Controllers",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/server/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 203,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "upload",
    "memberof": "src/server/router.js",
    "longname": "src/server/router.js~upload",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/server/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 204,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Router",
    "memberof": "src/server/router.js",
    "longname": "src/server/router.js~Router",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/server/router.js",
    "importStyle": "Router",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 205,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#constructor",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 206,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "options",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#options",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 207,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "Controllers",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#Controllers",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 208,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "dispatcher",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#dispatcher",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 209,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "routes",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#routes",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 210,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "server",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#server",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 211,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "generateRoutesFromNodes",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#generateRoutesFromNodes",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 212,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "loadRoutes",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#loadRoutes",
    "access": null,
    "description": null,
    "lineNumber": 80,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 213,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "structRoute",
    "memberof": "src/server/router.js~Router",
    "longname": "src/server/router.js~Router#structRoute",
    "access": null,
    "description": null,
    "lineNumber": 84,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 214,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/storageAdaptors.js",
    "memberof": null,
    "longname": "src/server/storageAdaptors.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Disk from 'structure-storage-disk-adaptor'\n\nexport default {\n  disk: {\n    adaptor: new Disk.Adaptor(),\n    name: 'disk'\n  }\n}\n"
  },
  {
    "__docId__": 215,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/app.js",
    "memberof": null,
    "longname": "src/services/app.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import AppModel        from '../models/app'\nimport async           from 'async'\nimport {chalk, logger} from '../lib/logger'\nimport ShortIdService  from '../services/short-id'\n\nclass AppService {\n\n  create(o = {}, cb) {\n    var _this = this\n\n    var pkg = Object.assign({}, o)\n\n    // validation\n\n    var shortidService  = new ShortIdService(),\n        appModel   = new AppModel()\n\n    appModel.create(pkg, function(err, res) {\n\n      if(err) {\n        logger.error(err)\n\n        return cb({\n          message: 'Could not create app',\n          resource: 'AppService'\n        })\n      }\n\n      var sid = shortidService.issue(res.id)\n\n      _this.update(res.id, {sid}, function(err2, res2) {\n\n        if(err) {\n          logger.error(err)\n\n          return cb({\n            message: 'Could not create short id for app',\n            resource: 'AppService'\n          })\n        }\n\n        return cb(null, res2)\n\n      })\n\n    })\n\n  }\n\n  get() {\n    var appModel = new AppModel()\n\n    appModel.get.apply(appModel, arguments)\n  }\n\n  getByShortId() {\n    var appModel = new AppModel()\n\n    appModel.getByShortId.apply(appModel, arguments)\n  }\n\n  update() {\n    var appModel = new AppModel()\n\n    appModel.update.apply(appModel, arguments)\n  }\n\n  updateByShortId() {\n    var appModel = new AppModel()\n\n    appModel.updateByShortId.apply(appModel, arguments)\n  }\n\n}\n\nexport default AppService\n"
  },
  {
    "__docId__": 216,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AppService",
    "memberof": "src/services/app.js",
    "longname": "src/services/app.js~AppService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/app.js",
    "importStyle": "AppService",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 217,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/services/app.js~AppService",
    "longname": "src/services/app.js~AppService#create",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 218,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "get",
    "memberof": "src/services/app.js~AppService",
    "longname": "src/services/app.js~AppService#get",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 219,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByShortId",
    "memberof": "src/services/app.js~AppService",
    "longname": "src/services/app.js~AppService#getByShortId",
    "access": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 220,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "update",
    "memberof": "src/services/app.js~AppService",
    "longname": "src/services/app.js~AppService#update",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 221,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "updateByShortId",
    "memberof": "src/services/app.js~AppService",
    "longname": "src/services/app.js~AppService#updateByShortId",
    "access": null,
    "description": null,
    "lineNumber": 68,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 222,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/auth.js",
    "memberof": null,
    "longname": "src/services/auth.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import async           from 'async'\nimport {chalk, logger} from '../lib/logger'\nimport PasswordService from './password'\nimport TokenService    from './token'\nimport UserModel       from '../models/user'\n\nclass AuthService {\n\n  authenticateById(id, password, cb) {\n\n    var passwordService = new PasswordService(),\n        userModel       = new UserModel()\n\n    userModel.get(id, function AuthService_authenticateGetCallback(err, user) {\n\n      if(err) {\n        return cb({\n          message: 'Could not get user: ' + id,\n          resource: 'AuthService'\n        })\n      }\n\n      passwordService.verify(password, user.hash, function(err, verified) {\n\n        if(err) {\n          return cb({\n            message: 'Could not verify password for user: ' + id,\n            resource: 'AuthService'\n          })\n        }\n\n        cb(null, user)\n\n      })\n\n    })\n\n  }\n\n  authenticateByUsername(username, password, cb) {\n\n    var passwordService = new PasswordService(),\n        userModel       = new UserModel()\n\n    userModel.getByUsername(username, function AuthService_authenticateGetCallback(err, user) {\n\n      if(err) {\n        logger.error('Could not get user', username)\n        return cb({\n          message: 'Could not get user: ' + username,\n          resource: 'AuthService'\n        })\n      }\n\n      passwordService.verify(password, user.hash, function(err, verified) {\n\n        if(err) {\n          logger.error('Could not validate password for user', username)\n          return cb({\n            message: 'Could not verify password for user: ' + username,\n            resource: 'AuthService'\n          })\n        }\n        logger.debug('auth by user/pass its ok', user)\n        cb(null, user)\n\n      })\n\n    })\n\n  }\n\n  authorize(id, token, cb) {\n\n    var tokenService = new TokenService()\n\n    tokenService.verify(token, function(err, verified) {\n\n      if(err) {\n        return cb({\n          message: 'Could not authorize user: ' + id,\n          resource: 'AuthService'\n        })\n      }\n\n      cb(null, token)\n\n    })\n\n  }\n\n  loginById(id, pkg = {}, cb) {\n    var _this = this\n\n    if(arguments.length == 2) {\n      pkg = arguments[0]\n      id  = pkg.id\n      cb  = arguments[1]\n    }\n\n    var tokenService = new TokenService()\n\n    async.parallel([\n      this.authenticateById.bind(this, id, pkg.password),\n      tokenService.issue.bind(tokenService, pkg.hash)\n    ], function AuthService_loginByIdCallBack(err, res) {\n      logger.debug('hit parallel call')\n      if(err) {\n        logger.error('Could not log in user', id)\n        logger.error(err)\n\n        return cb({\n          message: 'Could not log in user',\n          resource: 'AuthService'\n        })\n      }\n\n      var user = res[0]\n      user.token = res[1]\n\n      cb(null, user)\n\n    })\n\n  }\n\n  loginByUsername(username, pkg = {}, cb) {\n    var _this = this\n\n    if(arguments.length == 2) {\n      pkg       = arguments[0]\n      username  = pkg.username\n      cb        = arguments[1]\n    }\n\n    var tokenService = new TokenService()\n\n    async.parallel([\n      this.authenticateByUsername.bind(this, username, pkg.password),\n      //tokenService.issue.bind(tokenService, pkg.hash)\n    ], function AuthService_loginByUsernameCallBack(err, res) {\n\n      if(err) {\n        logger.error('Could not log in user', username)\n        logger.error(err)\n\n        return cb({\n          message: 'Could not log in user',\n          resource: 'AuthService'\n        })\n      }\n\n      var user = res[0]\n      //user.token = res[1]\n\n      cb(null, user)\n\n    })\n\n  }\n\n  logout() {\n\n  }\n\n  unauthenticate() {\n\n  }\n\n}\n\nexport default AuthService\n"
  },
  {
    "__docId__": 223,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AuthService",
    "memberof": "src/services/auth.js",
    "longname": "src/services/auth.js~AuthService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/auth.js",
    "importStyle": "AuthService",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 224,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "authenticateById",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#authenticateById",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "password",
        "types": [
          "*"
        ]
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 225,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "authenticateByUsername",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#authenticateByUsername",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "params": [
      {
        "name": "username",
        "types": [
          "*"
        ]
      },
      {
        "name": "password",
        "types": [
          "*"
        ]
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 226,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "authorize",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#authorize",
    "access": null,
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 227,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "loginById",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#loginById",
    "access": null,
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "pkg",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 228,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "loginByUsername",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#loginByUsername",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "params": [
      {
        "name": "username",
        "types": [
          "*"
        ]
      },
      {
        "name": "pkg",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 229,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "logout",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#logout",
    "access": null,
    "description": null,
    "lineNumber": 162,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 230,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "unauthenticate",
    "memberof": "src/services/auth.js~AuthService",
    "longname": "src/services/auth.js~AuthService#unauthenticate",
    "access": null,
    "description": null,
    "lineNumber": 166,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 231,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/organization.js",
    "memberof": null,
    "longname": "src/services/organization.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import async           from 'async'\nimport {chalk, logger} from '../lib/logger'\nimport ShortIdService  from '../services/short-id'\nimport OrganizationModel   from '../models/organization'\n\nclass OrganizationService {\n\n  create(o = {}, cb) {\n    var _this = this\n\n    var pkg = Object.assign({}, o)\n\n    // validation\n\n    var shortidService  = new ShortIdService(),\n        organizationModel   = new OrganizationModel()\n\n    organizationModel.create(pkg, function(err, res) {\n\n      if(err) {\n        logger.error(err)\n\n        return cb({\n          message: 'Could not create organization',\n          resource: 'OrganizationService'\n        })\n      }\n\n      var sid = shortidService.issue(res.id)\n\n      _this.update(res.id, {sid}, function(err2, res2) {\n\n        if(err) {\n          logger.error(err)\n\n          return cb({\n            message: 'Could not create short id for organization',\n            resource: 'OrganizationService'\n          })\n        }\n\n        return cb(null, res2)\n\n      })\n\n    })\n\n  }\n\n  get() {\n    var organizationModel = new OrganizationModel()\n\n    organizationModel.get.apply(organizationModel, arguments)\n  }\n\n  getByShortId() {\n    var organizationModel = new OrganizationModel()\n\n    organizationModel.getByShortId.apply(organizationModel, arguments)\n  }\n\n  list() {\n\n    var organizationModel = new OrganizationModel()\n\n    organizationModel.list.apply(organizationModel, arguments)\n\n  }\n\n  update() {\n    var organizationModel = new OrganizationModel()\n\n    organizationModel.update.apply(organizationModel, arguments)\n  }\n\n  updateByShortId() {\n    var organizationModel = new OrganizationModel()\n\n    organizationModel.updateByShortId.apply(organizationModel, arguments)\n  }\n\n}\n\nexport default OrganizationService\n"
  },
  {
    "__docId__": 232,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "OrganizationService",
    "memberof": "src/services/organization.js",
    "longname": "src/services/organization.js~OrganizationService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/organization.js",
    "importStyle": "OrganizationService",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 233,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#create",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 234,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "get",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#get",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 235,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByShortId",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#getByShortId",
    "access": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 236,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "list",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#list",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 237,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "update",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#update",
    "access": null,
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 238,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "updateByShortId",
    "memberof": "src/services/organization.js~OrganizationService",
    "longname": "src/services/organization.js~OrganizationService#updateByShortId",
    "access": null,
    "description": null,
    "lineNumber": 76,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 239,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/package.js",
    "memberof": null,
    "longname": "src/services/package.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "class PackageService {\n\n  constructor() {\n\n  }\n\n  error(o = {}, options) {\n    var status = 400\n\n    if(typeof options == 'number') status = options\n    if(typeof options == 'object') {\n      status = options.status || status\n    }\n\n    return {\n      err: {},\n      status\n    }\n\n  }\n\n  success(o = {}, options) {\n    var status = 200\n\n    if(typeof options == 'number') status = options\n    if(typeof options == 'object') {\n      status = options.status || status\n    }\n\n    return {\n      pkg: o,\n      status\n    }\n\n  }\n\n}\n\nexport default PackageService\n"
  },
  {
    "__docId__": 240,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "PackageService",
    "memberof": "src/services/package.js",
    "longname": "src/services/package.js~PackageService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/package.js",
    "importStyle": "PackageService",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 241,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/services/package.js~PackageService",
    "longname": "src/services/package.js~PackageService#constructor",
    "access": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 242,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "error",
    "memberof": "src/services/package.js~PackageService",
    "longname": "src/services/package.js~PackageService#error",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 243,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "success",
    "memberof": "src/services/package.js~PackageService",
    "longname": "src/services/package.js~PackageService#success",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 244,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/password.js",
    "memberof": null,
    "longname": "src/services/password.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import bcrypt          from 'bcrypt'\nimport {chalk, logger} from '../lib/logger'\n\nclass PasswordService {\n\n  constructor(options = {}) {\n    this.options = options\n  }\n\n  issue(s) {\n\n    return new Promise( (resolve, reject) => {\n\n      if(typeof s != 'string') return cb({\n        message: 'Password must be a string',\n        resource: 'PasswordService'\n      })\n\n      bcrypt.genSalt(\n        parseInt(this.options.genSalt) ||\n        parseInt(process.env.SALT_FACTOR) ||\n        10,\n      function PasswordService_genSaltCallback(err, salt) {\n        if(err) {\n          logger.error('Could not generate salt', err)\n          return reject(err)\n        }\n\n        bcrypt.hash(s, salt, function PasswordService_hashCallback(err, hash) {\n          if(err) {\n            logger.error('Could not generate hash', err)\n            return reject(err)\n          }\n\n          resolve(hash)\n        })\n\n      })\n\n    })\n\n  }\n\n  verify(s, hash) {\n\n    return new Promise( (resolve, reject) => {\n\n      bcrypt.compare(s, hash, function PasswordService_compareCallback(err, match) {\n\n        if(err) {\n          logger.error('Could not verify password', err)\n          logger.debug('Password', s)\n          logger.debug('Hash', hash)\n          return reject(err)\n        }\n\n        return resolve(true)\n\n      })\n\n    })\n\n  }\n\n}\n\nexport default PasswordService\n"
  },
  {
    "__docId__": 245,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "PasswordService",
    "memberof": "src/services/password.js",
    "longname": "src/services/password.js~PasswordService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/password.js",
    "importStyle": "PasswordService",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 246,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/services/password.js~PasswordService",
    "longname": "src/services/password.js~PasswordService#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 247,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "options",
    "memberof": "src/services/password.js~PasswordService",
    "longname": "src/services/password.js~PasswordService#options",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 248,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "issue",
    "memberof": "src/services/password.js~PasswordService",
    "longname": "src/services/password.js~PasswordService#issue",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "s",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 249,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "verify",
    "memberof": "src/services/password.js~PasswordService",
    "longname": "src/services/password.js~PasswordService#verify",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "params": [
      {
        "name": "s",
        "types": [
          "*"
        ]
      },
      {
        "name": "hash",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 250,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/short-id.js",
    "memberof": null,
    "longname": "src/services/short-id.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import {chalk, logger} from '../lib/logger'\nimport shorthash       from 'shorthash'\n\nclass ShortIdService {\n\n  constructor(options = {}) {\n    this.options = options\n  }\n\n  issue(id) {\n\n    var sid = shorthash.unique(id)\n\n    return sid\n\n  }\n\n}\n\nexport default ShortIdService\n"
  },
  {
    "__docId__": 251,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ShortIdService",
    "memberof": "src/services/short-id.js",
    "longname": "src/services/short-id.js~ShortIdService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/short-id.js",
    "importStyle": "ShortIdService",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 252,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/services/short-id.js~ShortIdService",
    "longname": "src/services/short-id.js~ShortIdService#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 253,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "options",
    "memberof": "src/services/short-id.js~ShortIdService",
    "longname": "src/services/short-id.js~ShortIdService#options",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 254,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "issue",
    "memberof": "src/services/short-id.js~ShortIdService",
    "longname": "src/services/short-id.js~ShortIdService#issue",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 255,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/template.js",
    "memberof": null,
    "longname": "src/services/template.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import async             from 'async'\nimport {chalk, logger}   from '../lib/logger'\nimport OrganizationModel from '../models/organization'\nimport ShortIdService    from '../services/short-id'\nimport TemplateModel     from '../models/template'\n\nclass TemplateService {\n\n  create(o = {}, cb) {\n    var _this = this\n\n    var pkg = Object.assign({}, o)\n\n    // validation\n\n    var shortidService    = new ShortIdService(),\n        templateModel     = new TemplateModel()\n\n    templateModel.create(pkg, function(err, res) {\n\n      if(err) {\n        logger.error(err)\n\n        return cb({\n          message: 'Could not create template',\n          resource: 'TemplateService'\n        })\n      }\n\n      var sid = shortidService.issue(res.id)\n\n      _this.update(res.id, {sid}, function(err2, res2) {\n\n        if(err) {\n          logger.error(err)\n\n          return cb({\n            message: 'Could not create short id for template',\n            resource: 'TemplateService'\n          })\n        }\n\n        return cb(null, res2)\n\n      })\n\n    })\n\n  }\n\n  get() {\n    var templateModel = new TemplateModel()\n\n    templateModel.get.apply(templateModel, arguments)\n  }\n\n  getByShortId() {\n    var templateModel = new TemplateModel()\n\n    templateModel.getByShortId.apply(templateModel, arguments)\n  }\n\n  update() {\n    var templateModel = new TemplateModel()\n\n    templateModel.update.apply(templateModel, arguments)\n  }\n\n  updateByShortId() {\n    var templateModel = new TemplateModel()\n\n    templateModel.updateByShortId.apply(templateModel, arguments)\n  }\n\n}\n\nexport default TemplateService\n"
  },
  {
    "__docId__": 256,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TemplateService",
    "memberof": "src/services/template.js",
    "longname": "src/services/template.js~TemplateService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/template.js",
    "importStyle": "TemplateService",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 257,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/services/template.js~TemplateService",
    "longname": "src/services/template.js~TemplateService#create",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 258,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "get",
    "memberof": "src/services/template.js~TemplateService",
    "longname": "src/services/template.js~TemplateService#get",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 259,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByShortId",
    "memberof": "src/services/template.js~TemplateService",
    "longname": "src/services/template.js~TemplateService#getByShortId",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 260,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "update",
    "memberof": "src/services/template.js~TemplateService",
    "longname": "src/services/template.js~TemplateService#update",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 261,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "updateByShortId",
    "memberof": "src/services/template.js~TemplateService",
    "longname": "src/services/template.js~TemplateService#updateByShortId",
    "access": null,
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 262,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/token.js",
    "memberof": null,
    "longname": "src/services/token.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import jwt from 'jsonwebtoken'\n\nclass TokenService {\n\n  constructor() {\n\n  }\n\n  issue(s) {\n\n    if(typeof s == 'number') s = s.toString()\n    if(typeof s != 'string') return false\n\n    var token = jwt.sign(s, cert, {\n      //expiresInMinutes: 1440 // 24 hours\n    })\n\n    return token\n\n  }\n\n  verify(token) {\n\n    return jwt.verify(token, process.env.JWT_SECRET)\n\n  }\n\n}\n\nexport default TokenService\n"
  },
  {
    "__docId__": 263,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TokenService",
    "memberof": "src/services/token.js",
    "longname": "src/services/token.js~TokenService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/token.js",
    "importStyle": "TokenService",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 264,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/services/token.js~TokenService",
    "longname": "src/services/token.js~TokenService#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 265,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "issue",
    "memberof": "src/services/token.js~TokenService",
    "longname": "src/services/token.js~TokenService#issue",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "s",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 266,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "verify",
    "memberof": "src/services/token.js~TokenService",
    "longname": "src/services/token.js~TokenService#verify",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 267,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/services/user.js",
    "memberof": null,
    "longname": "src/services/user.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import async           from 'async'\nimport {chalk, logger} from '../lib/logger'\nimport PasswordService from './password'\nimport ShortIdService  from '../services/short-id'\nimport TokenService    from './token'\nimport UserModel       from '../models/user'\n\nclass UserService {\n\n  create(o = {}, cb) {\n    var _this = this\n\n    var pkg = Object.assign({}, o)\n\n    // validation\n\n    var passwordService = new PasswordService(),\n        shortidService  = new ShortIdService(),\n        tokenService    = new TokenService(),\n        userModel       = new UserModel()\n\n    /*\n    TODO: clean up this query, it could be optimized\n    */\n    passwordService.issue(pkg.password, function UserService_createIssueCallback(err, hash) {\n\n      if(err) {\n        logger.error(err)\n        logger.debug('cb', typeof cb)\n        return cb({\n          message: 'Could not create password hash',\n          resource: 'UserModel'\n        })\n      }\n\n      if(pkg.password) delete pkg.password // dont want to store actual password\n      if(pkg.organizationId) delete pkg.organizationId\n\n      pkg.hash = hash\n      pkg.organizations = pkg.organizations || []\n\n      async.parallel([\n        userModel.create.bind(userModel, pkg)\n      ], function UserService_createParallelCallback(err, res) {\n\n        if(err) {\n          logger.error(err)\n          return cb({\n            raw: err,\n            resource: 'UserModel'\n          })\n        }\n\n        var user = res[0]\n        var sid  = shortidService.issue(user.id)\n\n        async.parallel([\n          tokenService.issue.bind(tokenService, user.id),\n          userModel.addToOrganizationTable.bind(userModel, user.id, o.organizations[0]),\n          _this.update.bind(_this, user.id, {sid})\n        ], function UserService_createParallelCallback2(err2, res2) {\n\n          if(err2) {\n            logger.error(err2)\n            return cb({\n              raw: err2,\n              resource: 'UserModel'\n            })\n          }\n\n          user               = res2[2]\n          user.organizations = res2[1].organizations\n          user.token         = res2[0]\n\n          cb(null, user)\n\n        })\n\n      })\n\n    })\n\n  }\n\n  get() {\n    var userModel = new UserModel()\n\n    userModel.get.apply(userModel, arguments)\n  }\n\n  getByShortId() {\n    var userModel = new UserModel()\n\n    userModel.getByShortId.apply(userModel, arguments)\n  }\n\n  getByUsername() {\n    var userModel = new UserModel()\n\n    userModel.getByUsername.apply(userModel, arguments)\n  }\n\n  list() {\n\n    var userModel = new UserModel()\n\n    userModel.list.apply(userModel, arguments)\n\n  }\n\n  update() {\n    var userModel = new UserModel()\n\n    userModel.update.apply(userModel, arguments)\n  }\n\n  updateByShortId() {\n    var userModel = new UserModel()\n\n    userModel.updateByShortId.apply(userModel, arguments)\n  }\n\n}\n\nexport default UserService\n"
  },
  {
    "__docId__": 268,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "UserService",
    "memberof": "src/services/user.js",
    "longname": "src/services/user.js~UserService",
    "access": null,
    "export": true,
    "importPath": "structure-core/src/services/user.js",
    "importStyle": "UserService",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 269,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "create",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#create",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "o",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "cb",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 270,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "get",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#get",
    "access": null,
    "description": null,
    "lineNumber": 85,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 271,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByShortId",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#getByShortId",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 272,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getByUsername",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#getByUsername",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 273,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "list",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#list",
    "access": null,
    "description": null,
    "lineNumber": 103,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 274,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "update",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#update",
    "access": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 275,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "updateByShortId",
    "memberof": "src/services/user.js~UserService",
    "longname": "src/services/user.js~UserService#updateByShortId",
    "access": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 276,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/start.js",
    "memberof": null,
    "longname": "src/start.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "process.env.npm_package_version = process.env.npm_package_version || require('../package.json').version\n\nvar path = require('path')\nrequire('dotenv').config({path: path.join(__dirname, '../.env')})\n\n/*require('babel-core/register')\nrequire('babel-polyfill')*/\n\nvar Server = require('./lib/server')\n\nvar server = new Server()\n\nserver.start()\n"
  },
  {
    "__docId__": 277,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "path",
    "memberof": "src/start.js",
    "longname": "src/start.js~path",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/start.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 278,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Server",
    "memberof": "src/start.js",
    "longname": "src/start.js~Server",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/start.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 279,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "server",
    "memberof": "src/start.js",
    "longname": "src/start.js~server",
    "access": null,
    "export": false,
    "importPath": "structure-core/src/start.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "Server"
      ]
    }
  },
  {
    "__docId__": 281,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 282,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 283,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 284,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 285,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 286,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 287,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 288,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 289,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 290,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 291,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 292,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 293,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 294,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 295,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 296,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 297,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 298,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 299,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 300,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 301,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 302,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 303,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 304,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 305,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 306,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 307,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 308,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 309,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 310,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 311,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 312,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 313,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 314,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 315,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 316,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 317,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 318,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 319,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 320,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 321,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 322,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 323,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 324,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 325,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 326,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 327,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 329,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 330,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 331,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 332,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 333,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 334,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 335,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 336,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "builtinExternal": true
  }
]